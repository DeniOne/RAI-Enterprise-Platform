{"numFailedTestSuites":0,"numFailedTests":0,"numPassedTestSuites":24,"numPassedTests":104,"numPendingTestSuites":0,"numPendingTests":1,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":24,"numTotalTests":105,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1771377484258,"success":true,"testResults":[{"assertionResults":[{"ancestorTitles":["IsolationGuard"],"duration":249,"failureDetails":[],"failureMessages":[],"fullName":"IsolationGuard должен разрешать SIMULATION контекст","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен разрешать SIMULATION контекст"},{"ancestorTitles":["IsolationGuard"],"duration":130,"failureDetails":[],"failureMessages":[],"fullName":"IsolationGuard должен блокировать запись в production таблицы","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен блокировать запись в production таблицы"}],"endTime":1771377623195,"message":"","name":"F:\\RAI_EP\\apps\\api\\src\\modules\\generative-engine\\simulation\\isolation-guard.spec.ts","startTime":1771377490876,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ConfidenceIntervalValidator"],"duration":202,"failureDetails":[],"failureMessages":[],"fullName":"ConfidenceIntervalValidator должен пропускать корректные интервалы","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен пропускать корректные интервалы"},{"ancestorTitles":["ConfidenceIntervalValidator"],"duration":74,"failureDetails":[],"failureMessages":[],"fullName":"ConfidenceIntervalValidator должен кидать ошибку на некорректный уровень доверия","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"должен кидать ошибку на некорректный уровень доверия"},{"ancestorTitles":["ConfidenceIntervalValidator"],"duration":28,"failureDetails":[],"failureMessages":[],"fullName":"ConfidenceIntervalValidator должен кидать ошибку если lower >= upper","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен кидать ошибку если lower >= upper"}],"endTime":1771377623639,"message":"","name":"F:\\RAI_EP\\apps\\api\\src\\modules\\generative-engine\\probability\\confidence-interval-validator.spec.ts","startTime":1771377490754,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["IntegrityGateGenerative","validateGeneratedDraft"],"duration":424,"failureDetails":[],"failureMessages":[],"fullName":"IntegrityGateGenerative validateGeneratedDraft должен проходить, если хеш совпадает и каноникализация idempotent","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"должен проходить, если хеш совпадает и каноникализация idempotent"},{"ancestorTitles":["IntegrityGateGenerative","validateGeneratedDraft"],"duration":225,"failureDetails":[],"failureMessages":[],"fullName":"IntegrityGateGenerative validateGeneratedDraft должен кидать ошибку, если хеш НЕ совпадает","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен кидать ошибку, если хеш НЕ совпадает"},{"ancestorTitles":["IntegrityGateGenerative","validateGeneratedDraft"],"duration":195,"failureDetails":[],"failureMessages":[],"fullName":"IntegrityGateGenerative validateGeneratedDraft должен кидать ошибку, если каноникализация не idempotent","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен кидать ошибку, если каноникализация не idempotent"},{"ancestorTitles":["IntegrityGateGenerative","validateRecordIntegrity"],"duration":88,"failureDetails":[],"failureMessages":[],"fullName":"IntegrityGateGenerative validateRecordIntegrity должен подтверждать целостность записи в БД","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен подтверждать целостность записи в БД"},{"ancestorTitles":["IntegrityGateGenerative","validateRecordIntegrity"],"duration":229,"failureDetails":[],"failureMessages":[],"fullName":"IntegrityGateGenerative validateRecordIntegrity должен возвращать false при нарушении целостности записи","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен возвращать false при нарушении целостности записи"}],"endTime":1771377625930,"message":"","name":"F:\\RAI_EP\\apps\\api\\src\\modules\\generative-engine\\validation\\integrity-gate-generative.spec.ts","startTime":1771377490710,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["NormalizationEnforcer"],"duration":434,"failureDetails":[],"failureMessages":[],"fullName":"NormalizationEnforcer должен проходить валидацию для суммы ~1.0","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"должен проходить валидацию для суммы ~1.0"},{"ancestorTitles":["NormalizationEnforcer"],"duration":284,"failureDetails":[],"failureMessages":[],"fullName":"NormalizationEnforcer должен кидать ошибку если сумма отклоняется > 0.001","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен кидать ошибку если сумма отклоняется > 0.001"},{"ancestorTitles":["NormalizationEnforcer"],"duration":91,"failureDetails":[],"failureMessages":[],"fullName":"NormalizationEnforcer должен нормализовать распределение","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен нормализовать распределение"}],"endTime":1771377628866,"message":"","name":"F:\\RAI_EP\\apps\\api\\src\\modules\\generative-engine\\probability\\normalization-enforcer.spec.ts","startTime":1771377489892,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ProbabilityDistributionBuilder"],"duration":459,"failureDetails":[],"failureMessages":[],"fullName":"ProbabilityDistributionBuilder должен строить гауссово распределение","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"должен строить гауссово распределение"}],"endTime":1771377629122,"message":"","name":"F:\\RAI_EP\\apps\\api\\src\\modules\\generative-engine\\probability\\probability-distribution-builder.spec.ts","startTime":1771377490742,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["SimulationRunService"],"duration":230,"failureDetails":[],"failureMessages":[],"fullName":"SimulationRunService должен запускать симуляцию для списка сценариев","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"должен запускать симуляцию для списка сценариев"}],"endTime":1771377629523,"message":"","name":"F:\\RAI_EP\\apps\\api\\src\\modules\\generative-engine\\simulation\\simulation-run.service.spec.ts","startTime":1771377491294,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["GenerationRecordService","createRecord"],"duration":712,"failureDetails":[],"failureMessages":[],"fullName":"GenerationRecordService createRecord должен создавать запись в БД","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен создавать запись в БД"},{"ancestorTitles":["GenerationRecordService","createRecord"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"GenerationRecordService createRecord должен обрабатывать ошибки дубликатов (P2002)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"должен обрабатывать ошибки дубликатов (P2002)"}],"endTime":1771377630727,"message":"","name":"F:\\RAI_EP\\apps\\api\\src\\modules\\generative-engine\\record\\generation-record.service.spec.ts","startTime":1771377491105,"status":"focused","summary":""},{"assertionResults":[{"ancestorTitles":["DraftFactory","createDraft"],"duration":49,"failureDetails":[],"failureMessages":[],"fullName":"DraftFactory createDraft должен создавать черновик со статусом GENERATED_DRAFT (I15)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен создавать черновик со статусом GENERATED_DRAFT (I15)"},{"ancestorTitles":["DraftFactory","createDraft"],"duration":47,"failureDetails":[],"failureMessages":[],"fullName":"DraftFactory createDraft должен детерминированно сортировать стадии по sequence","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"должен детерминированно сортировать стадии по sequence"},{"ancestorTitles":["DraftFactory","createDraft"],"duration":16,"failureDetails":[],"failureMessages":[],"fullName":"DraftFactory createDraft должен сохранять метаданные генерации (I16)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен сохранять метаданные генерации (I16)"},{"ancestorTitles":["DraftFactory","assertHumanApproval (I17)"],"duration":49,"failureDetails":[],"failureMessages":[],"fullName":"DraftFactory assertHumanApproval (I17) должен позволять AGRONOMIST утверждать","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен позволять AGRONOMIST утверждать"},{"ancestorTitles":["DraftFactory","assertHumanApproval (I17)"],"duration":186,"failureDetails":[],"failureMessages":[],"fullName":"DraftFactory assertHumanApproval (I17) должен запрещать SYSTEM утверждать","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен запрещать SYSTEM утверждать"}],"endTime":1771377631583,"message":"","name":"F:\\RAI_EP\\apps\\api\\src\\modules\\generative-engine\\domain\\draft-factory.spec.ts","startTime":1771377626374,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ImmutabilityGuard","assertMutable (I18)"],"duration":92,"failureDetails":[],"failureMessages":[],"fullName":"ImmutabilityGuard assertMutable (I18) должен разрешать изменение DRAFT стратегий","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен разрешать изменение DRAFT стратегий"},{"ancestorTitles":["ImmutabilityGuard","assertMutable (I18)"],"duration":183,"failureDetails":[],"failureMessages":[],"fullName":"ImmutabilityGuard assertMutable (I18) должен ЗАПРЕЩАТЬ изменение PUBLISHED стратегий","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"должен ЗАПРЕЩАТЬ изменение PUBLISHED стратегий"},{"ancestorTitles":["ImmutabilityGuard","assertMutable (I18)"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"ImmutabilityGuard assertMutable (I18) должен ЗАПРЕЩАТЬ изменение ARCHIVED стратегий","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен ЗАПРЕЩАТЬ изменение ARCHIVED стратегий"},{"ancestorTitles":["ImmutabilityGuard","softArchive"],"duration":80,"failureDetails":[],"failureMessages":[],"fullName":"ImmutabilityGuard softArchive должен позволять перевод PUBLISHED -> ARCHIVED","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен позволять перевод PUBLISHED -> ARCHIVED"}],"endTime":1771377631657,"message":"","name":"F:\\RAI_EP\\apps\\api\\src\\modules\\generative-engine\\domain\\immutability-guard.spec.ts","startTime":1771377623770,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["GenerativeEngine Adversarial Tests (G-IMPL-5)"],"duration":134,"failureDetails":[],"failureMessages":[],"fullName":"GenerativeEngine Adversarial Tests (G-IMPL-5) ADV-01: Should reject generation if seed derivation is bypassed (Direct Seed Injection attempt)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"ADV-01: Should reject generation if seed derivation is bypassed (Direct Seed Injection attempt)"},{"ancestorTitles":["GenerativeEngine Adversarial Tests (G-IMPL-5)"],"duration":43,"failureDetails":[],"failureMessages":[],"fullName":"GenerativeEngine Adversarial Tests (G-IMPL-5) ADV-02: Should throw if Date.now() is called inside generative context","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"ADV-02: Should throw if Date.now() is called inside generative context"},{"ancestorTitles":["GenerativeEngine Adversarial Tests (G-IMPL-5)"],"duration":212,"failureDetails":[],"failureMessages":[],"fullName":"GenerativeEngine Adversarial Tests (G-IMPL-5) ADV-03: Should throw exactly if Math.random() is called inside generative context","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"ADV-03: Should throw exactly if Math.random() is called inside generative context"},{"ancestorTitles":["GenerativeEngine Adversarial Tests (G-IMPL-5)"],"duration":125,"failureDetails":[],"failureMessages":[],"fullName":"GenerativeEngine Adversarial Tests (G-IMPL-5) ADV-04: Should produce identical hash for different key order (Canonicalization)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"ADV-04: Should produce identical hash for different key order (Canonicalization)"},{"ancestorTitles":["GenerativeEngine Adversarial Tests (G-IMPL-5)"],"duration":168,"failureDetails":[],"failureMessages":[],"fullName":"GenerativeEngine Adversarial Tests (G-IMPL-5) ADV-05: Should normalize whitespace in string values if implemented (or raw strings preserved)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"ADV-05: Should normalize whitespace in string values if implemented (or raw strings preserved)"},{"ancestorTitles":["GenerativeEngine Adversarial Tests (G-IMPL-5)"],"duration":523,"failureDetails":[],"failureMessages":[],"fullName":"GenerativeEngine Adversarial Tests (G-IMPL-5) ADV-06: Should throw on Circular JSON input","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"ADV-06: Should throw on Circular JSON input"},{"ancestorTitles":["GenerativeEngine Adversarial Tests (G-IMPL-5)"],"duration":22,"failureDetails":[],"failureMessages":[],"fullName":"GenerativeEngine Adversarial Tests (G-IMPL-5) ADV-07: Should throw on undefined values in strict mode (or handle per contract)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"ADV-07: Should throw on undefined values in strict mode (or handle per contract)"},{"ancestorTitles":["GenerativeEngine Adversarial Tests (G-IMPL-5)"],"duration":23,"failureDetails":[],"failureMessages":[],"fullName":"GenerativeEngine Adversarial Tests (G-IMPL-5) ADV-08: Should omit null values (Contract §1)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"ADV-08: Should omit null values (Contract §1)"},{"ancestorTitles":["GenerativeEngine Adversarial Tests (G-IMPL-5)"],"duration":28,"failureDetails":[],"failureMessages":[],"fullName":"GenerativeEngine Adversarial Tests (G-IMPL-5) ADV-09: Should normalize float precision (Contract §1)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"ADV-09: Should normalize float precision (Contract §1)"},{"ancestorTitles":["GenerativeEngine Adversarial Tests (G-IMPL-5)"],"duration":43,"failureDetails":[],"failureMessages":[],"fullName":"GenerativeEngine Adversarial Tests (G-IMPL-5) ADV-10: Should handle large payload reasonably (or fail gracefully)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"ADV-10: Should handle large payload reasonably (or fail gracefully)"},{"ancestorTitles":["GenerativeEngine Adversarial Tests (G-IMPL-5)"],"duration":22,"failureDetails":[],"failureMessages":[],"fullName":"GenerativeEngine Adversarial Tests (G-IMPL-5) ADV-11: Should not serialize prototype properties","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"ADV-11: Should not serialize prototype properties"},{"ancestorTitles":["GenerativeEngine Adversarial Tests (G-IMPL-5)"],"duration":47,"failureDetails":[],"failureMessages":[],"fullName":"GenerativeEngine Adversarial Tests (G-IMPL-5) ADV-12: Should handle Unicode Normalization (NFC)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"ADV-12: Should handle Unicode Normalization (NFC)"},{"ancestorTitles":["GenerativeEngine Adversarial Tests (G-IMPL-5)"],"duration":18,"failureDetails":[],"failureMessages":[],"fullName":"GenerativeEngine Adversarial Tests (G-IMPL-5) ADV-13: Should produce different result if input strategy changes even slightly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"ADV-13: Should produce different result if input strategy changes even slightly"},{"ancestorTitles":["GenerativeEngine Adversarial Tests (G-IMPL-5)"],"duration":36,"failureDetails":[],"failureMessages":[],"fullName":"GenerativeEngine Adversarial Tests (G-IMPL-5) ADV-14: Should produce different result if strategy version changes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"ADV-14: Should produce different result if strategy version changes"}],"endTime":1771377632733,"message":"","name":"F:\\RAI_EP\\apps\\api\\test\\generative-engine.adversarial.spec.ts","startTime":1771377623293,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["CanonicalSorter","CANON-01: Idempotency"],"duration":103,"failureDetails":[],"failureMessages":[],"fullName":"CanonicalSorter CANON-01: Idempotency должен быть idempotent для простого объекта","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен быть idempotent для простого объекта"},{"ancestorTitles":["CanonicalSorter","CANON-01: Idempotency"],"duration":27,"failureDetails":[],"failureMessages":[],"fullName":"CanonicalSorter CANON-01: Idempotency должен быть idempotent для вложенного объекта","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен быть idempotent для вложенного объекта"},{"ancestorTitles":["CanonicalSorter","CANON-01: Idempotency"],"duration":20,"failureDetails":[],"failureMessages":[],"fullName":"CanonicalSorter CANON-01: Idempotency assertIdempotent должен пройти для валидного canonical","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"assertIdempotent должен пройти для валидного canonical"},{"ancestorTitles":["CanonicalSorter","CANON-01: Idempotency"],"duration":228,"failureDetails":[],"failureMessages":[],"fullName":"CanonicalSorter CANON-01: Idempotency assertIdempotent должен throw для невалидного JSON","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"assertIdempotent должен throw для невалидного JSON"},{"ancestorTitles":["CanonicalSorter","CANON-02: Order Independence"],"duration":52,"failureDetails":[],"failureMessages":[],"fullName":"CanonicalSorter CANON-02: Order Independence ключи в разном порядке → одинаковый canonical","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"ключи в разном порядке → одинаковый canonical"},{"ancestorTitles":["CanonicalSorter","CANON-02: Order Independence"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"CanonicalSorter CANON-02: Order Independence вложенные объекты с разным порядком ключей → одинаковый canonical","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"вложенные объекты с разным порядком ключей → одинаковый canonical"},{"ancestorTitles":["CanonicalSorter","CANON-03: Deep Recursion"],"duration":15,"failureDetails":[],"failureMessages":[],"fullName":"CanonicalSorter CANON-03: Deep Recursion массивы НЕ пересортировываются (domain order)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"массивы НЕ пересортировываются (domain order)"},{"ancestorTitles":["CanonicalSorter","CANON-03: Deep Recursion"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"CanonicalSorter CANON-03: Deep Recursion вложенные массивы объектов — объекты сортируются, массивы нет","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"вложенные массивы объектов — объекты сортируются, массивы нет"},{"ancestorTitles":["CanonicalSorter","CANON-03: Deep Recursion"],"duration":32,"failureDetails":[],"failureMessages":[],"fullName":"CanonicalSorter CANON-03: Deep Recursion глубоко вложенные структуры","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"глубоко вложенные структуры"},{"ancestorTitles":["CanonicalSorter","CANON-04: Edge Cases"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"CanonicalSorter CANON-04: Edge Cases null в объекте → пропускается","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"null в объекте → пропускается"},{"ancestorTitles":["CanonicalSorter","CANON-04: Edge Cases"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"CanonicalSorter CANON-04: Edge Cases null в массиве → пропускается","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"null в массиве → пропускается"},{"ancestorTitles":["CanonicalSorter","CANON-04: Edge Cases"],"duration":16,"failureDetails":[],"failureMessages":[],"fullName":"CanonicalSorter CANON-04: Edge Cases undefined → throw","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"undefined → throw"},{"ancestorTitles":["CanonicalSorter","CANON-04: Edge Cases"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"CanonicalSorter CANON-04: Edge Cases Date → ISO 8601 string","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Date → ISO 8601 string"},{"ancestorTitles":["CanonicalSorter","CANON-04: Edge Cases"],"duration":15,"failureDetails":[],"failureMessages":[],"fullName":"CanonicalSorter CANON-04: Edge Cases Infinity → throw","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"Infinity → throw"},{"ancestorTitles":["CanonicalSorter","CANON-04: Edge Cases"],"duration":46,"failureDetails":[],"failureMessages":[],"fullName":"CanonicalSorter CANON-04: Edge Cases NaN → throw","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"NaN → throw"},{"ancestorTitles":["CanonicalSorter","CANON-05: String Normalization"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"CanonicalSorter CANON-05: String Normalization NFC normalization для строк","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"NFC normalization для строк"},{"ancestorTitles":["CanonicalSorter","CANON-06: Float Precision"],"duration":30,"failureDetails":[],"failureMessages":[],"fullName":"CanonicalSorter CANON-06: Float Precision float → toFixed(6)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"float → toFixed(6)"},{"ancestorTitles":["CanonicalSorter","CANON-06: Float Precision"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"CanonicalSorter CANON-06: Float Precision integer остаётся integer","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"integer остаётся integer"},{"ancestorTitles":["CanonicalSorter","CANON-06: Float Precision"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"CanonicalSorter CANON-06: Float Precision float с trailing zeros → toFixed(6)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"float с trailing zeros → toFixed(6)"},{"ancestorTitles":["CanonicalSorter","CANON-07: Unsupported Types"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"CanonicalSorter CANON-07: Unsupported Types function → throw","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"function → throw"},{"ancestorTitles":["CanonicalSorter","CANON-07: Unsupported Types"],"duration":42,"failureDetails":[],"failureMessages":[],"fullName":"CanonicalSorter CANON-07: Unsupported Types symbol → throw","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"symbol → throw"},{"ancestorTitles":["CanonicalSorter","CANON-08: Real-world GenerationParams"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"CanonicalSorter CANON-08: Real-world GenerationParams GenerationParams каноникализируется детерминированно","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GenerationParams каноникализируется детерминированно"}],"endTime":1771377632834,"message":"","name":"F:\\RAI_EP\\apps\\api\\src\\modules\\generative-engine\\deterministic\\canonical-sorter.spec.ts","startTime":1771377629087,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["SeedManager","SEED-01: Deterministic Derivation"],"duration":46,"failureDetails":[],"failureMessages":[],"fullName":"SeedManager SEED-01: Deterministic Derivation одинаковый input → одинаковый seed string","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"одинаковый input → одинаковый seed string"},{"ancestorTitles":["SeedManager","SEED-01: Deterministic Derivation"],"duration":50,"failureDetails":[],"failureMessages":[],"fullName":"SeedManager SEED-01: Deterministic Derivation результат должен быть валидным uint32 в строковом виде","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"результат должен быть валидным uint32 в строковом виде"},{"ancestorTitles":["SeedManager","SEED-01: Deterministic Derivation"],"duration":96,"failureDetails":[],"failureMessages":[],"fullName":"SeedManager SEED-01: Deterministic Derivation разный input → чаще всего разный seed (SHA-256)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"разный input → чаще всего разный seed (SHA-256)"},{"ancestorTitles":["SeedManager","SEED-02: No Random Fallback"],"duration":330,"failureDetails":[],"failureMessages":[],"fullName":"SeedManager SEED-02: No Random Fallback пустая строка → throw SeedDerivationError","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"пустая строка → throw SeedDerivationError"},{"ancestorTitles":["SeedManager","SEED-02: No Random Fallback"],"duration":35,"failureDetails":[],"failureMessages":[],"fullName":"SeedManager SEED-02: No Random Fallback null/undefined в resolveSeed без explicitSeed → throw","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"null/undefined в resolveSeed без explicitSeed → throw"},{"ancestorTitles":["SeedManager","SEED-03: Explicit Seed Validation"],"duration":68,"failureDetails":[],"failureMessages":[],"fullName":"SeedManager SEED-03: Explicit Seed Validation валидный uint32 string → возвращает как есть","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"валидный uint32 string → возвращает как есть"},{"ancestorTitles":["SeedManager","SEED-03: Explicit Seed Validation"],"duration":45,"failureDetails":[],"failureMessages":[],"fullName":"SeedManager SEED-03: Explicit Seed Validation не-числовая строка → throw SeedDerivationError","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"не-числовая строка → throw SeedDerivationError"},{"ancestorTitles":["SeedManager","SEED-03: Explicit Seed Validation"],"duration":24,"failureDetails":[],"failureMessages":[],"fullName":"SeedManager SEED-03: Explicit Seed Validation отрицательное число → throw SeedDerivationError","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"отрицательное число → throw SeedDerivationError"},{"ancestorTitles":["SeedManager","SEED-03: Explicit Seed Validation"],"duration":19,"failureDetails":[],"failureMessages":[],"fullName":"SeedManager SEED-03: Explicit Seed Validation число > 2^32-1 → throw SeedDerivationError","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"число > 2^32-1 → throw SeedDerivationError"},{"ancestorTitles":["SeedManager","SEED-03: Explicit Seed Validation"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"SeedManager SEED-03: Explicit Seed Validation пустая строка → throw SeedDerivationError","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"пустая строка → throw SeedDerivationError"},{"ancestorTitles":["SeedManager","SEED-04: Resolve Policy"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"SeedManager SEED-04: Resolve Policy если есть explicitSeed → использует его","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"если есть explicitSeed → использует его"},{"ancestorTitles":["SeedManager","SEED-04: Resolve Policy"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"SeedManager SEED-04: Resolve Policy если нет explicitSeed → вычисляет из каноникализации","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"если нет explicitSeed → вычисляет из каноникализации"},{"ancestorTitles":["SeedManager","SEED-05: PRNG Sequence Determinism"],"duration":188,"failureDetails":[],"failureMessages":[],"fullName":"SeedManager SEED-05: PRNG Sequence Determinism одинаковый seed → одинаковая последовательность [0, 1)","invocations":1,"location":null,"numPassingAsserts":12,"retryReasons":[],"status":"passed","title":"одинаковый seed → одинаковая последовательность [0, 1)"},{"ancestorTitles":["SeedManager","SEED-05: PRNG Sequence Determinism"],"duration":89,"failureDetails":[],"failureMessages":[],"fullName":"SeedManager SEED-05: PRNG Sequence Determinism разный seed → разная последовательность","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"разный seed → разная последовательность"}],"endTime":1771377633092,"message":"","name":"F:\\RAI_EP\\apps\\api\\src\\modules\\generative-engine\\deterministic\\seed-manager.spec.ts","startTime":1771377629240,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["DraftStateManager","handlesStatus"],"duration":17,"failureDetails":[],"failureMessages":[],"fullName":"DraftStateManager handlesStatus должен возвращать true для GENERATED_DRAFT","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен возвращать true для GENERATED_DRAFT"},{"ancestorTitles":["DraftStateManager","handlesStatus"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"DraftStateManager handlesStatus должен возвращать false для других статусов","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"должен возвращать false для других статусов"},{"ancestorTitles":["DraftStateManager"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"DraftStateManager должен возвращать DRAFT и ARCHIVED для GENERATED_DRAFT","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"должен возвращать DRAFT и ARCHIVED для GENERATED_DRAFT"},{"ancestorTitles":["DraftStateManager","canTransition"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"DraftStateManager canTransition должен разрешать переход в DRAFT при участии человека (I17)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен разрешать переход в DRAFT при участии человека (I17)"},{"ancestorTitles":["DraftStateManager","canTransition"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"DraftStateManager canTransition должен разрешать переход в ARCHIVED (reject)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен разрешать переход в ARCHIVED (reject)"},{"ancestorTitles":["DraftStateManager","canTransition"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"DraftStateManager canTransition должен ЗАПРЕЩАТЬ переход в REVIEW напрямую","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен ЗАПРЕЩАТЬ переход в REVIEW напрямую"},{"ancestorTitles":["DraftStateManager","canTransition"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"DraftStateManager canTransition должен ЗАПРЕЩАТЬ переход в ACTIVE напрямую","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен ЗАПРЕЩАТЬ переход в ACTIVE напрямую"},{"ancestorTitles":["DraftStateManager","canTransition"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"DraftStateManager canTransition должен ЗАПРЕЩАТЬ переходы если роль SYSTEM/AI (I17)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен ЗАПРЕЩАТЬ переходы если роль SYSTEM/AI (I17)"}],"endTime":1771377633867,"message":"","name":"F:\\RAI_EP\\apps\\api\\src\\modules\\generative-engine\\fsm\\draft-state-manager.spec.ts","startTime":1771377629605,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["MetadataBuilder"],"duration":58,"failureDetails":[],"failureMessages":[],"fullName":"MetadataBuilder должен строить метаданные корректно","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"должен строить метаданные корректно"}],"endTime":1771377633951,"message":"","name":"F:\\RAI_EP\\apps\\api\\src\\modules\\generative-engine\\domain\\metadata-builder.spec.ts","startTime":1771377631710,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ScenarioExecutor"],"duration":40,"failureDetails":[],"failureMessages":[],"fullName":"ScenarioExecutor должен применять изменения к черновику (in-memory)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"должен применять изменения к черновику (in-memory)"},{"ancestorTitles":["ScenarioExecutor"],"duration":110,"failureDetails":[],"failureMessages":[],"fullName":"ScenarioExecutor должен возвращать копию черновика даже без изменений","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"должен возвращать копию черновика даже без изменений"}],"endTime":1771377634181,"message":"","name":"F:\\RAI_EP\\apps\\api\\src\\modules\\generative-engine\\simulation\\scenario-executor.spec.ts","startTime":1771377630916,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["FactorExtractor"],"duration":103,"failureDetails":[],"failureMessages":[],"fullName":"FactorExtractor должен извлекать факторы из ограничений","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"должен извлекать факторы из ограничений"},{"ancestorTitles":["FactorExtractor"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"FactorExtractor должен извлекать фактор модели","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"должен извлекать фактор модели"}],"endTime":1771377635098,"message":"","name":"F:\\RAI_EP\\apps\\api\\src\\modules\\generative-engine\\explainability\\factor-extractor.spec.ts","startTime":1771377631705,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ConstraintPropagator"],"duration":147,"failureDetails":[],"failureMessages":[],"fullName":"ConstraintPropagator должен прокидывать ограничения в черновик (I21)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"должен прокидывать ограничения в черновик (I21)"},{"ancestorTitles":["ConstraintPropagator"],"duration":35,"failureDetails":[],"failureMessages":[],"fullName":"ConstraintPropagator должен возвращать новый объект (или модифицированный по ссылке, но мы проверяем результат)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"должен возвращать новый объект (или модифицированный по ссылке, но мы проверяем результат)"}],"endTime":1771377635492,"message":"","name":"F:\\RAI_EP\\apps\\api\\src\\modules\\generative-engine\\domain\\constraint-propagator.spec.ts","startTime":1771377632819,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ExpectationCalculator"],"duration":174,"failureDetails":[],"failureMessages":[],"fullName":"ExpectationCalculator должен рассчитывать мат. ожидание","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен рассчитывать мат. ожидание"},{"ancestorTitles":["ExpectationCalculator"],"duration":42,"failureDetails":[],"failureMessages":[],"fullName":"ExpectationCalculator должен кидать ошибку при несовпадении длин","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен кидать ошибку при несовпадении длин"}],"endTime":1771377636144,"message":"","name":"F:\\RAI_EP\\apps\\api\\src\\modules\\generative-engine\\probability\\expectation-calculator.spec.ts","startTime":1771377633093,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["StableHasher","HASH-01: Baseline SHA-256"],"duration":64,"failureDetails":[],"failureMessages":[],"fullName":"StableHasher HASH-01: Baseline SHA-256 должен возвращать 64-символьную hex строку","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"должен возвращать 64-символьную hex строку"},{"ancestorTitles":["StableHasher","HASH-01: Baseline SHA-256"],"duration":25,"failureDetails":[],"failureMessages":[],"fullName":"StableHasher HASH-01: Baseline SHA-256 одинаковый input → одинаковый hash","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"одинаковый input → одинаковый hash"},{"ancestorTitles":["StableHasher","HASH-02: Generation Hash Contract"],"duration":41,"failureDetails":[],"failureMessages":[],"fullName":"StableHasher HASH-02: Generation Hash Contract hashGeneration должен следовать контракту payload|version|seed","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"hashGeneration должен следовать контракту payload|version|seed"},{"ancestorTitles":["StableHasher","HASH-02: Generation Hash Contract"],"duration":19,"failureDetails":[],"failureMessages":[],"fullName":"StableHasher HASH-02: Generation Hash Contract изменение любого компонента → изменение хеша","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"изменение любого компонента → изменение хеша"},{"ancestorTitles":["StableHasher","HASH-03: Verification"],"duration":28,"failureDetails":[],"failureMessages":[],"fullName":"StableHasher HASH-03: Verification verify/verifyGeneration должны возвращать true при совпадении","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"verify/verifyGeneration должны возвращать true при совпадении"}],"endTime":1771377637589,"message":"","name":"F:\\RAI_EP\\apps\\api\\src\\modules\\generative-engine\\deterministic\\stable-hasher.spec.ts","startTime":1771377633276,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["DeterministicForecastEngine"],"duration":438,"failureDetails":[],"failureMessages":[],"fullName":"DeterministicForecastEngine должен рассчитывать прогноз детерминированно","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"должен рассчитывать прогноз детерминированно"},{"ancestorTitles":["DeterministicForecastEngine"],"duration":18,"failureDetails":[],"failureMessages":[],"fullName":"DeterministicForecastEngine должен учитывать высокий уровень осадков","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен учитывать высокий уровень осадков"}],"endTime":1771377637931,"message":"","name":"F:\\RAI_EP\\apps\\api\\src\\modules\\generative-engine\\yield\\deterministic-forecast-engine.spec.ts","startTime":1771377634422,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["RationaleGenerator"],"duration":43,"failureDetails":[],"failureMessages":[],"fullName":"RationaleGenerator должен генерировать текст для критических факторов","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"должен генерировать текст для критических факторов"},{"ancestorTitles":["RationaleGenerator"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"RationaleGenerator должен возвращать дефолтное сообщение если факторов нет","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен возвращать дефолтное сообщение если факторов нет"}],"endTime":1771377638916,"message":"","name":"F:\\RAI_EP\\apps\\api\\src\\modules\\generative-engine\\explainability\\rationale-generator.spec.ts","startTime":1771377635534,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["YieldForecastService"],"duration":36,"failureDetails":[],"failureMessages":[],"fullName":"YieldForecastService должен вызывать engine с собранным snapshot","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"должен вызывать engine с собранным snapshot"}],"endTime":1771377639009,"message":"","name":"F:\\RAI_EP\\apps\\api\\src\\modules\\generative-engine\\yield\\yield-forecast.service.spec.ts","startTime":1771377634045,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["DeterministicGenerator"],"duration":193,"failureDetails":[],"failureMessages":[],"fullName":"DeterministicGenerator должен оркестровать детерминированный пайплайн корректно","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"должен оркестровать детерминированный пайплайн корректно"}],"endTime":1771377639019,"message":"","name":"F:\\RAI_EP\\apps\\api\\src\\modules\\generative-engine\\deterministic\\deterministic-generator.spec.ts","startTime":1771377633993,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ExplainabilityBuilder"],"duration":43,"failureDetails":[],"failureMessages":[],"fullName":"ExplainabilityBuilder должен строить отчет используя зависимости","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"должен строить отчет используя зависимости"}],"endTime":1771377639716,"message":"","name":"F:\\RAI_EP\\apps\\api\\src\\modules\\generative-engine\\explainability\\explainability-builder.spec.ts","startTime":1771377635137,"status":"passed","summary":""}],"wasInterrupted":false}
