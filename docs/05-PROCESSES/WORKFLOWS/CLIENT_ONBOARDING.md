# Process: Client Onboarding (–°–æ–∑–¥–∞–Ω–∏–µ –ö–ª–∏–µ–Ω—Ç–∞) üöÄ

> **–°—Ç–∞—Ç—É—Å:** –î—Ä–∞—Ñ—Ç | **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π | **–°–ª–æ–π:** Processes / Workflows

---

## 1. –°—Ö–µ–º–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞

```mermaid
graph TD
    Request[üìù Sales/Admin Request] --> Check[üîç Duplicate Check]
    Check --> CreateCompany[üè¢ Create Company Entity]
    CreateCompany --> SetupAdmin[üë§ Create Owner Profile]
    SetupAdmin --> Integration[üîå Setup Integrations]
    
    Integration --> FieldImport[üó∫Ô∏è Import Fields]
    FieldImport --> AI_Audit[üß† AI Initial Analyzis]
    AI_Audit --> Ready[‚úÖ Ready for Operations]
```

---

## 2. –ü–æ—à–∞–≥–æ–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º

### 2.1. –ò–Ω–∏—Ü–∏–∞—Ü–∏—è (Sales / SuperAdmin)
–¢–∞–∫ –∫–∞–∫ –º—ã Enterprise B2B, –∫–ª–∏–µ–Ω—Ç –Ω–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è —Å–∞–º "–ø–æ –∫–Ω–æ–ø–∫–µ –Ω–∞ —Å–∞–π—Ç–µ". –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç –ú–µ–Ω–µ–¥–∂–µ—Ä –∏–ª–∏ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä.
*   **–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: –ù–∞–∑–≤–∞–Ω–∏–µ —é—Ä–ª–∏—Ü–∞, –ò–ù–ù, –†–µ–≥–∏–æ–Ω, –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ (Email/Phone).
*   **–î–µ–π—Å—Ç–≤–∏–µ**: `AdminService.createCompany()`

### 2.2. –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (Business Core)
1.  **Registry**: –°–æ–∑–¥–∞–µ—Ç—Å—è –∫–æ—Ä–Ω–µ–≤–∞—è –∑–∞–ø–∏—Å—å `Company`.
2.  **IAM**: –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏–Ω–≤–∞–π—Ç-—Å—Å—ã–ª–∫–∞ –¥–ª—è –í–ª–∞–¥–µ–ª—å—Ü–∞ (Owner).
3.  **Billing**: –°–æ–∑–¥–∞–µ—Ç—Å—è —Å—á–µ—Ç—á–∏–∫ –ª–∏—Ü–µ–Ω–∑–∏–π –∏ –∫–≤–æ—Ç (SaaS Limits).

### 2.3. –ü–µ—Ä–≤–∏—á–Ω—ã–π –ù–∞–ª–∏–≤ –î–∞–Ω–Ω—ã—Ö (Data Ingestion)
–ö–ª–∏–µ–Ω—Ç (–∏–ª–∏ –º–µ–Ω–µ–¥–∂–µ—Ä) –∑–∞–≥—Ä—É–∂–∞–µ—Ç "–¶–∏—Ñ—Ä–æ–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å —Ö–æ–∑—è–π—Å—Ç–≤–∞":
*   **–ì–µ–æ–º–µ—Ç—Ä–∏—è –ø–æ–ª–µ–π**: KML/Shapefile.
*   **–ò—Å—Ç–æ—Ä–∏—è –ø–æ–ª–µ–π**: –ü—Ä–æ—à–ª—ã–µ —Å–µ–∑–æ–Ω—ã, –∫—É–ª—å—Ç—É—Ä—ã.
*   **–¢–µ—Ö–Ω–∏–∫–∞**: –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–æ–≤.

### 2.4. AI-–í–∞–ª–∏–¥–∞—Ü–∏—è (–†–æ–ª—å –ò–ò) ü§ñ
–ó–¥–µ—Å—å –≤—Å—Ç—É–ø–∞–µ—Ç –≤ –∏–≥—Ä—É **Router-Solver** –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
1.  **Validation**: –ò–ò –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ KML (–Ω–µ—Ç –ª–∏ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π, –Ω–µ –ª–µ–∂–∞—Ç –ª–∏ –ø–æ–ª—è –≤ –≤–æ–¥–µ/–ª–µ—Å—É).
2.  **Enrichment**: –ü–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º –ø–æ–ª–µ–π –ò–ò –ø–æ–¥—Ç—è–≥–∏–≤–∞–µ—Ç:
    *   –¢–∏–ø –ø–æ—á–≤—ã (–∏–∑ –ø—É–±–ª–∏—á–Ω—ã—Ö –∫–∞—Ä—Ç).
    *   –ê–≥—Ä–æ–º–µ—Ç–µ–æ–¥–∞–Ω–Ω—ã–µ –∑–∞ 5 –ª–µ—Ç.
3.  **Engram Initialization**: –°–∏—Å—Ç–µ–º–∞ —Å–∫–∞–Ω–∏—Ä—É–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –∫–ª–∏–µ–Ω—Ç–∞ –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –ø–µ—Ä–≤—ã–µ "–≠–Ω–≥—Ä–∞–º–º—ã" (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–£ –¥–∞–Ω–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞ —Å—É–≥–ª–∏–Ω–∫–µ —Ä–∞–ø—Å –¥–∞–µ—Ç 40—Ü/–≥–∞").

---

## 3. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### API Endpoints
- `POST /api/v1/admin/companies` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–Ω–∞–Ω—Ç–∞.
- `POST /api/v1/import/kml` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –≥–µ–æ–º–µ—Ç—Ä–∏–∏.
- `POST /api/v1/ai/onboarding/scan` ‚Äî –∑–∞–ø—É—Å–∫ AI-–∞–Ω–∞–ª–∏–∑–∞.

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏ –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ —Ä–æ–ª–∏ `PLATFORM_ADMIN`.
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ —Å—Ä–∞–∑—É –ø–æ–ª—É—á–∞—é—Ç —Ç–µ–≥ `companyId`. –ò–∑–æ–ª—è—Ü–∏—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Å –ø–µ—Ä–≤–æ–π –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã.
