# UI DESIGN CANON

## Статус документа

**Версия:** v0.1  
**Дата:** 2026-02-03  
**Статус:** CANONICAL / FOUNDATION-LEVEL  

Данный документ является **обязательным нормативным слоем** для всех задач, затрагивающих:
- пользовательские интерфейсы
- UI-компоненты
- layout, typography, визуальную иерархию
- правки существующих экранов

Нарушение UI Design Canon считается **архитектурным нарушением**.

---

## 1. Базовый принцип дизайна

Интерфейс должен быть:
- **лёгкий**
- **чистый**
- **визуально «дышащий»**
- **без визуального шума**

> **Ключевое правило:**  
> Акцент создаётся размером и пространством, а не жирностью.

---

## 2. Типографика (обязательная)

### 2.1. Основной шрифт
- **Шрифт:** `Geist` (sans-serif)
- **Импорт:** `@import 'geist/font/sans'`

### 2.2. Веса шрифтов (СТРОГО)

| Элемент | Font Weight | CSS Class | Использование |
|---------|-------------|-----------|---------------|
| Заголовки (h1-h6) | `500` | `font-medium` | Все заголовки, кнопки, метрики |
| Основной текст | `400` | `font-normal` | Параграфы, описания, labels |
| Моноширинный | `400` | `font-mono` | ID, логи, технические метки |

### 2.3. ЗАПРЕЩЕНО

❌ **КАТЕГОРИЧЕСКИ ЗАПРЕЩЕНО использовать:**
- `font-bold` (weight: 700)
- `font-semibold` (weight: 600)
- `font-extrabold` (weight: 800)
- `font-black` (weight: 900)

> **Правило:**  
> Если нужен акцент — используй размер (`text-xl`, `text-2xl`) или пространство, но НЕ жирность.

### 2.4. Размеры текста

| Элемент | Размер | CSS Class |
|---------|--------|-----------|
| Заголовок страницы | `30px` | `text-3xl` |
| Подзаголовок | `24px` | `text-2xl` |
| Заголовок карточки | `20px` | `text-xl` |
| Основной текст | `16px` | `text-base` |
| Вспомогательный текст | `14px` | `text-sm` |
| Мелкий текст | `12px` | `text-xs` |

---

## 3. Цветовая модель (Light Theme)

### 3.1. Обязательные принципы
- **Светлая тема** (по умолчанию)
- **Отсутствие чистого чёрного** (`#000000`)
- **Отсутствие «тяжёлых» серых фонов**

### 3.2. Основная палитра

| Назначение | Цвет | CSS Class | Использование |
|------------|------|-----------|---------------|
| Фон страницы | `#FAFAFA` | `bg-gray-50` | Основной фон |
| Карточки | `#FFFFFF` | `bg-white` | Контейнеры, карточки |
| Текст основной | `#171717` | `text-gray-900` | Заголовки, основной текст |
| Текст вспомогательный | `#737373` | `text-gray-500` | Описания, метки |
| Границы | `rgba(0,0,0,0.1)` | `border-black/10` | Рамки карточек, inputs |
| Акцент (primary) | `#000000` | `bg-black` | Кнопки, активные элементы |
| Акцент (hover) | `#262626` | `hover:bg-gray-800` | Hover состояния |

### 3.3. Семантические цвета

| Статус | Цвет | CSS Class | Использование |
|--------|------|-----------|---------------|
| Success | `#22C55E` | `text-green-500` | Успешные операции |
| Warning | `#F59E0B` | `text-amber-500` | Предупреждения |
| Error | `#EF4444` | `text-red-500` | Ошибки |
| Info | `#3B82F6` | `text-blue-500` | Информация |

---

## 4. Компоненты

### 4.1. Карточки (Cards)

**Обязательные стили:**
```css
.card {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: 1rem; /* rounded-2xl */
  padding: 1.5rem; /* p-6 */
}
```

**Tailwind:**
```html
<div class="bg-white border border-black/10 rounded-2xl p-6">
  <!-- content -->
</div>
```

**Варианты:**
- `rounded-2xl` (16px) — стандартные карточки
- `rounded-3xl` (24px) — крупные контейнеры

### 4.2. Кнопки (Buttons)

#### Primary Button
```html
<button class="bg-black text-white rounded-2xl px-6 py-3 font-medium hover:bg-gray-800 transition-colors">
  Текст кнопки
</button>
```

#### Secondary Button
```html
<button class="bg-white border border-black/10 rounded-2xl px-6 py-3 font-medium hover:bg-gray-50 transition-colors">
  Текст кнопки
</button>
```

**Правила:**
- Всегда `font-medium` (НЕ bold)
- Всегда `rounded-2xl`
- Transition для hover состояний

### 4.3. Inputs

```html
<input 
  type="text" 
  class="border border-black/10 rounded-lg px-4 py-2 font-normal focus:ring-2 focus:ring-black/20 focus:border-black/20 outline-none"
/>
```

**Правила:**
- `rounded-lg` (8px) — меньше, чем карточки
- `font-normal` для текста
- `border-black/10` для рамки
- Focus ring: `ring-black/20`

### 4.4. Labels

```html
<label class="text-sm font-normal text-gray-700 mb-2 block">
  Название поля
</label>
```

---

## 5. Layout & Spacing

### 5.1. Принцип «дыхания»

Интерфейс должен иметь достаточно пространства между элементами:

| Тип отступа | Размер | CSS Class |
|-------------|--------|-----------|
| Между секциями | `48px` | `space-y-12` |
| Между карточками | `24px` | `space-y-6` |
| Внутри карточки | `16px` | `space-y-4` |
| Между элементами формы | `12px` | `space-y-3` |

### 5.2. Container

```html
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
  <!-- content -->
</div>
```

---

## 6. Компонентные ограничения

### 6.1. ЗАПРЕЩЕНО

❌ Использовать устаревшие тёмные паттерны  
❌ Оставлять legacy-стили «как есть»  
❌ Смешивать визуальные стили между экранами  
❌ Использовать `font-bold` или `font-semibold`  
❌ Использовать чистый чёрный фон (`bg-black` для фона)  

### 6.2. Scorched Earth Principle

При модификации старых экранов действует принцип:

> **Scorched Earth**  
> Старый стиль полностью заменяется каноничным.

Нельзя:
- оставлять «половину старого, половину нового»
- «постепенно мигрировать»

Можно:
- полностью переписать экран по канону
- отложить миграцию до отдельной задачи

---

## 7. Ответственность ролей

### TECHLEAD
- Проверяет соответствие UI Design Canon на этапе ТЗ
- Блокирует задачи с некорректным UI-описанием
- Проверяет финальный результат перед приёмкой

### CODER
- Реализует UI строго по канону
- НЕ имеет права «улучшать дизайн от себя»
- НЕ переносит визуальные паттерны без фиксации
- Обязан использовать только разрешённые веса шрифтов

---

## 8. Проверка соответствия (Checklist)

Перед приёмкой UI-задачи TECHLEAD обязан проверить:

- [ ] Шрифт: Geist
- [ ] Заголовки: `font-medium` (weight: 500)
- [ ] Основной текст: `font-normal` (weight: 400)
- [ ] НЕТ `font-bold` или `font-semibold`
- [ ] Карточки: `bg-white`, `border-black/10`, `rounded-2xl`
- [ ] Кнопки: `rounded-2xl`, `font-medium`
- [ ] Inputs: `rounded-lg`, `border-black/10`
- [ ] Светлая тема (нет тёмных фонов)
- [ ] Достаточно пространства между элементами
- [ ] Все тексты на русском языке

---

## 9. Инструменты проверки

### DevTools Check
```javascript
// Проверка font-weight в консоли браузера
document.querySelectorAll('h1, h2, h3, h4, h5, h6').forEach(el => {
  const weight = window.getComputedStyle(el).fontWeight;
  if (weight !== '500') {
    console.error('❌ Заголовок с неправильным весом:', el, weight);
  }
});
```

### Visual Regression
- Скриншоты до/после изменений
- Проверка в DevTools → Computed Styles

---

## 10. Версионирование

### v0.1 (2026-02-03)
- Первая версия канона
- Базовые требования к типографике, цветам, компонентам
- Фиксация запрета на `font-bold`/`font-semibold`

### Будущие версии
- Тёмная тема (опционально)
- Анимации и transitions
- Адаптивность (mobile-first)
- Accessibility (a11y) требования

---

## 11. Связь с другими документами

Данный документ подчиняется:
1. `CANON.md`
2. `ARCHITECTURAL_AXIOMS.md`
3. `FORBIDDEN.md`

Данный документ используется:
- `ANTIGRAVITY SOFTWARE FACTORY — ORCHESTRATOR PROMPT.md`
- `implementation_plan.md` (для спринтов с UI-задачами)

---

## 12. Изменение UI Design Canon

UI Design Canon может быть изменён **только если:**

1. USER явно инициирует изменение
2. TECHLEAD оформляет RFC
3. Изменение зафиксировано в `DECISIONS.log`
4. Указана новая версия и дата вступления в силу

В противном случае UI Design Canon считается неизменным.
