---
id: DOC-ARC-GEN-100
type: HLD
layer: Architecture
status: Concept
version: 1.0.0
owners: [@techlead]
last_updated: 2026-02-28
---

# –ö–æ–Ω—Ü–µ–ø—Ü–∏—è: Agent-First Architecture & Superbase (Agent_RAI) ü§ñüèõÔ∏è

## 1. –í–≤–µ–¥–µ–Ω–∏–µ
–í 2026 –≥–æ–¥—É —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–µ CRM-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Å —Å–æ—Ç–Ω—è–º–∏ –ø–æ–ª–µ–π —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –æ–±—É–∑–æ–π. –ü—Ä–æ–µ–∫—Ç RAI_EP –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ **Agent-First** –º–æ–¥–µ–ª—å, –≥–¥–µ –æ—Å–Ω–æ–≤–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —è–≤–ª—è–µ—Ç—Å—è —á–∞—Ç —Å –ò–ò-–∞–≥–µ–Ω—Ç–æ–º (**Agent_RAI**), –∞ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (UI) —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–º, —Å–∏—Ç—É–∞—Ç–∏–≤–Ω—ã–º –∏ —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–º.

---

## 2. –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 2.1 Agent_RAI (–û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä-–ú–æ–∑–≥)
`Agent_RAI` ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —á–∞—Ç-–±–æ—Ç, —ç—Ç–æ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —É–ø—Ä–∞–≤–ª—è—é—â–∏–π —É–∑–µ–ª —Å–∏—Å—Ç–µ–º—ã.
- **–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è**: –ü–æ–Ω–∏–º–∞–µ—Ç –Ω–∞–º–µ—Ä–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∏–Ω—Ç–µ–Ω—Ç—ã) —á–µ—Ä–µ–∑ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫.
- **Recall (–ü–∞–º—è—Ç—å)**: –û–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ —Å–∏—Å—Ç–µ–º–µ –≠–Ω–≥—Ä–∞–º–º –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø—Ä–æ—à–ª—ã—Ö —É—Å–ø–µ—Ö–æ–≤ –∏ –æ—à–∏–±–æ–∫.
- **Advisory (–í–∞–ª–∏–¥–∞—Ü–∏—è)**: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ —á–µ—Ä–µ–∑ Shadow Advisory Service –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ä–∏—Å–∫–∞–º.
- **Execution (–ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ)**: –ù–∞–ø—Ä—è–º—É—é –≤—ã–∑—ã–≤–∞–µ—Ç –¥–æ–º–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –∞—É–¥–∏—Ç).

### 2.2 Superbase (–ì–∏–±–∫–æ–µ –•—Ä–∞–Ω–∏–ª–∏—â–µ)
–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–µ –∂–µ—Å—Ç–∫–∏–µ —Å—Ö–µ–º—ã –ë–î –∑–∞–º–µ–Ω—è—é—Ç—Å—è –Ω–∞ –º–æ–¥–µ–ª—å "–°—É–ø–µ—Ä–±–∞–∑—ã".
- **UniversalEntity**: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É—é—â–∞—è `JSONB` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–æ–≤. 
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Å—Ö–µ–º–∞**: –ê–≥–µ–Ω—Ç –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã —Å—É—â–Ω–æ—Å—Ç—è–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ—á–≤—ã –∏–ª–∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞) –±–µ–∑ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π –ë–î.
- **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ**: –ö–∞–∂–¥–æ–µ –ø–æ–ª–µ –≤ –°—É–ø–µ—Ä–±–∞–∑–µ –∏–º–µ–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ –ø—Ä–æ–≤–µ–Ω–∞–Ω—Å–µ (–∫—Ç–æ –∏ –∫–æ–≥–¥–∞ –∑–∞–ø–æ–ª–Ω–∏–ª, —É—Ä–æ–≤–µ–Ω—å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ AI).

### 2.3 –°–∏—Å—Ç–µ–º–∞ –≠–Ω–≥—Ä–∞–º–º (–ö–æ–≥–Ω–∏—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å)
–≠–Ω–≥—Ä–∞–º–º—ã ‚Äî —ç—Ç–æ "—Å–Ω–∏–º–∫–∏ –æ–ø—ã—Ç–∞", –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –∞–≥–µ–Ω—Ç—É:
- **Positive (+)**: –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è.
- **Negative (-)**: –ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–Ω–µ–µ –ø—Ä–∏–≤–æ–¥–∏–ª–∏ –∫ —Å–±–æ—è–º.
- **–°–∏—Ç—É–∞—Ç–∏–≤–Ω–æ—Å—Ç—å**: –ê–≥–µ–Ω—Ç "–≤—Å–ø–æ–º–∏–Ω–∞–µ—Ç" –Ω—É–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–º–µ–Ω–Ω–æ –≤ –º–æ–º–µ–Ω—Ç —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è.

### 2.4 Situational UI (–†–µ–∞–∫—Ç–∏–≤–Ω—ã–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥)
–§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–µ—Ä–µ—Å—Ç–∞–µ—Ç –±—ã—Ç—å –Ω–∞–±–æ—Ä–æ–º —Å—Ç–∞—Ç–∏—á–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü.
- **UI –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é**: –ê–≥–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–∏–≥–Ω–∞–ª —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É –æ—Ç—Ä–∏—Å–æ–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –≤–∏–¥–∂–µ—Ç (–∫–∞—Ä—Ç—É, –º–∏–Ω–∏-—Ñ–æ—Ä–º—É, –≥—Ä–∞—Ñ–∏–∫).
- **–§—Ä–æ–Ω—Ç-–æ—Ñ–∏—Å**: –û—Å–Ω–æ–≤–Ω–æ–π —É–ø–æ—Ä –¥–µ–ª–∞–µ—Ç—Å—è –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É "–≤ –ø–æ–ª–µ" —á–µ—Ä–µ–∑ –º–æ–±–∏–ª—å–Ω—ã–µ –∏ —á–∞—Ç-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã.
- **–°–∫–≤–æ–∑–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è**: –ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç —á–∞—Ç–∞ –∫ –¥–µ—Ç–∞–ª—å–Ω–æ–º—É UI –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–æ —Å—Å—ã–ª–∫–µ-—Ç–æ–∫–µ–Ω—É.

### 2.5 Legal & Compliance (–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∫–æ–º–ø–ª–∞–µ–Ω—Å)
–ê–≥–µ–Ω—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ä–∏—Å–∫–æ–≤:
- **–ë–∞–∑—ã —Å—É–¥–æ–≤/–ø—Ä–∏—Å—Ç–∞–≤–æ–≤**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã—Ö –¥–µ–ª –∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤.
- **–†–∏—Å–∫-–ø—Ä–æ—Ñ–∏–ª—å**: –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ü–µ–Ω–∫–∏ –±–ª–∞–≥–æ–Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä–∞—è –Ω–∞–ø—Ä—è–º—É—é –≤–ª–∏—è–µ—Ç –Ω–∞ —É—Å–ª–æ–≤–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º–æ–≥–æ –¥–æ–≥–æ–≤–æ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ 100% –ø—Ä–µ–¥–æ–ø–ª–∞—Ç—ã –ø—Ä–∏ –≤—ã—Å–æ–∫–∏—Ö —Ä–∏—Å–∫–∞—Ö).
- **–ê–≤—Ç–æ-–¥–∏—Å–∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è**: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å—Ç–æ–ø-—Ñ–∞–∫—Ç–æ—Ä–æ–≤ (–±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ, –ª–∏–∫–≤–∏–¥–∞—Ü–∏—è).

---

## 3. –°—Ü–µ–Ω–∞—Ä–∏–π —Ä–∞–±–æ—Ç—ã: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞

1. **User**: "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π –Ω–æ–≤–æ–µ –û–û–û '–ê–≥—Ä–æ–°–≤–µ—Ç' –≤ –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä–µ, –ò–ù–ù 1234567890".
2. **Agent_RAI**:
   - –í—ã–∑—ã–≤–∞–µ—Ç `CounterpartyLookupProvider` –¥–ª—è –æ–±–æ–≥–∞—â–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.
   - **Legal Check**: –ü—Ä–æ–±–∏–≤–∞–µ—Ç –ø–æ –±–∞–∑–∞–º –§–°–°–ü –∏ –ê—Ä–±–∏—Ç—Ä–∞–∂–∞. –ù–∞—Ö–æ–¥–∏—Ç 3 –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏—Å–∫–∞ –ø–æ –Ω–µ–∏—Å–ø–æ–ª–Ω–µ–Ω–∏—é –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤.
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç `ShadowAdvisory`: –≤—ã–¥–∞–µ—Ç —Å—Ç–∞—Ç—É—Å `REVIEW` –∏–∑-–∑–∞ —Å—É–¥–µ–±–Ω—ã—Ö —Ä–∏—Å–∫–æ–≤.
   - **Agent_RAI**: "–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç –û–û–û '–ê–≥—Ä–æ–°–≤–µ—Ç' –Ω–∞–π–¥–µ–Ω. –í–Ω–∏–º–∞–Ω–∏–µ: –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ 3 —Å—É–¥–µ–±–Ω—ã—Ö –∏—Å–∫–∞ –Ω–∞ 5.4 –º–ª–Ω —Ä—É–±. –†–µ–∫–æ–º–µ–Ω–¥—É—é —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ –ø—Ä–µ–¥–æ–ø–ª–∞—Ç–µ. –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º —Å —ç—Ç–∏–º —É—Å–ª–æ–≤–∏–µ–º?"
3. **User**: "–î–∞, —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π".
4. **Agent_RAI**: –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ `UniversalEntity` —Å –ø–æ–º–µ—Ç–∫–æ–π –æ –≤—ã—Å–æ–∫–æ–º —Ä–∏—Å–∫–µ –∏ —Å–ø–µ—Ü-—É—Å–ª–æ–≤–∏–µ–º –¥–ª—è –¥–æ–≥–æ–≤–æ—Ä–æ–≤.

---

## 4. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

- **Backend**: –í–Ω–µ–¥—Ä–µ–Ω–∏–µ `AgentModule`, —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `MemoryModule`.
- **Database**: –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ `JSONB` —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è `UniversalEntity`.
- **Frontend**: –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–µ—Å—Ç—Ä–∞ —Å–∏—Ç—É–∞—Ç–∏–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (`apps/web/src/components/situational/*`).
- **Telegram**: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ö–µ–Ω–¥–ª–µ—Ä–æ–≤ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å–ª–æ–∂–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤—ã—Ö –¥–µ—Ä–µ–≤—å–µ–≤.

---

## 5. –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
1. **–°–∫–æ—Ä–æ—Å—Ç—å**: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π –≤ 5-10 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º —á–µ—Ä–µ–∑ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º.
2. **–ì–∏–±–∫–æ—Å—Ç—å**: –°–∏—Å—Ç–µ–º–∞ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ –ª—é–±—ã–µ –Ω–æ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –±–µ–∑ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è –∫–æ–¥–∞.
3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ö–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –ò–ò-–∞–≥–µ–Ω—Ç–∞ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–æ–π —Ä–∏—Å–∫–æ–≤.
