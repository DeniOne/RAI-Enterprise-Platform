---
id: DOC-ARC-GEN-024
type: HLD
layer: Architecture
status: Draft
version: 0.1.0
owners: [@techlead]
last_updated: 2026-02-15
---

---
id: service-structure-registry
type: service
status: review
owners: [architects]
aligned_with: [principle-axioms]
---

# Subsystem: Structure & Registry üè¢

> **–°—Ç–∞—Ç—É—Å:** –ö–∞–Ω–æ–Ω | **–í–µ—Ä—Å–∏—è:** 1.0 | **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** Business Core

---

## 1. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
Registry ‚Äî —ç—Ç–æ "–∞–¥—Ä–µ—Å–Ω–∞—è –∫–Ω–∏–≥–∞" –∏ —Å–∫–µ–ª–µ—Ç –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã. –û–Ω –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏–µ—Ä–∞—Ä—Ö–∏—é –≤–ª–∞–¥–µ–Ω–∏—è –∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞. –ë–µ–∑ –∑–∞–ø–∏—Å–∏ –≤ Registry –Ω–∏ –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç –≤ —Å–∏—Å—Ç–µ–º–µ (–ø–æ–ª–µ, —Ç—Ä–∞–∫—Ç–æ—Ä, –∞–≥—Ä–æ–Ω–æ–º) –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

---

## 2. –ò–µ—Ä–∞—Ä—Ö–∏—è (Registry Tree)

–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –∂–µ—Å—Ç–∫—É—é –∏–µ—Ä–∞—Ä—Ö–∏—é –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∏–∑–æ–ª—è—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö:

```mermaid
graph TD
    System[üåç RAI Platform] --> Company1[üè¢ AgroHolding A]
    System --> Company2[üè¢ Farm B]
    
    Company1 --> Client1[üöú –§–∏–ª–∏–∞–ª –°–µ–≤–µ—Ä]
    Company1 --> Client2[üöú –§–∏–ª–∏–∞–ª –Æ–≥]
    
    Client1 --> Field1[üó∫Ô∏è –ü–æ–ª–µ #1]
    Client1 --> Field2[üó∫Ô∏è –ü–æ–ª–µ #2]
```

- **Company**: –Æ—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ –ª–∏—Ü–æ, –≤–ª–∞–¥–µ–ª–µ—Ü –ø–æ–¥–ø–∏—Å–∫–∏.
- **Client (Farm)**: –ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ —Ö–æ–∑—è–π—Å—Ç–≤–æ –∏–ª–∏ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–π —É—á–∞—Å—Ç–æ–∫.
- **Node**: –õ—é–±–∞—è –∫–æ–Ω–µ—á–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å (–ü–æ–ª–µ, –¢–µ—Ö–Ω–∏–∫–∞, –°–∫–ª–∞–¥), –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–∞—è –∫ Client.

---

## 3. Registry Model (Data Structure)

–í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Ä–µ–µ—Å—Ç—Ä–∞ –∏–º–µ—é—Ç –æ–±—â–∏–π –Ω–∞–±–æ—Ä —Å–≤–æ–π—Å—Ç–≤:
- `companyId`: –ì–ª–æ–±–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≤–ª–∞–¥–µ–ª—å—Ü–∞.
- `parentId`: –°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π —É–∑–µ–ª.
- `metadata`: –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ (–¥–ª—è –ø–æ–ª—è ‚Äî –≥–µ–æ–º–µ—Ç—Ä–∏—è, –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–∏ ‚Äî –ò–ù–ù).

---

## 4. –ü—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
1. **Orphan Protection**: –£–∑–µ–ª –Ω–µ –º–æ–∂–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –ö–æ–º–ø–∞–Ω–∏–∏.
2. **Move Limitation**: –ù–µ–ª—å–∑—è –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –ü–æ–ª–µ –∏–∑ –æ–¥–Ω–æ–π –ö–æ–º–ø–∞–Ω–∏–∏ –≤ –¥—Ä—É–≥—É—é –±–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –º–∏–≥—Ä–∞—Ü–∏–∏ (—Ç–∞–∫ –∫–∞–∫ —Ç–µ—Ä—è–µ—Ç—Å—è –∏—Å—Ç–æ—Ä–∏—è –∞—É–¥–∏—Ç–∞).
3. **Unique Naming**: –ò–º–µ–Ω–∞ –ø–æ–ª–µ–π –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ –•–æ–∑—è–π—Å—Ç–≤–∞.

---

## 5. –°–≤—è–∑—å —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞
Registry –Ω–∞–ø—Ä—è–º—É—é –ø—Ä–æ–∫–∏–¥—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∞: –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ "–§–∏–ª–∏–∞–ª—É –°–µ–≤–µ—Ä", –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∏–¥–∏—Ç –≤—Å–µ –ü–æ–ª—è –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ —É–∑–ª–∞.
