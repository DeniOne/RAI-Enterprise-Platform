---
id: DOC-ARC-GEN-028
type: HLD
layer: Architecture
status: Draft
version: 0.1.0
owners: [@techlead]
last_updated: 2026-02-15
---

---
id: decision-adr-003
type: decision
status: approved
owners: [architects]
aligned_with: [principle-axioms]
---

# ADR 003: Стратегия баз данных - Единая PostgreSQL с разделением схем

## Статус
**Принято** | **Версия:** 1.0 | **Дата:** 2024.06.21

## Контекст
Для Phase Alpha нужно выбрать стратегию хранения данных:
1. **Одна БД для всего** — простой старт
2. **Разные БД для Core и RAI** — чёткое разделение
3. **Специализированные БД** — PostgreSQL для Core, PostGIS для RAI

## Решение
**Единая PostgreSQL с логическим разделением на схемы:**

- **Физически:** один PostgreSQL инстанс
- **Логически:** Разделение на уровне префиксов моделей и комментариев в Prisma (Core vs RAI)
- **PostGIS расширение** включено для работы с полями

## Обоснование
1. **Alpha — этап валидации:** проще администрировать одну БД
2. **Миграции:** легче делать cross-schema запросы если нужно
3. **Бэкапы:** один дамп всей системы
4. **В будущем (Gamma):** разделим на физически разные БД когда нагрузка возрастёт