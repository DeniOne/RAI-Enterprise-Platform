<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¶–∏—Ñ—Ä–æ–≤–æ–π –†–∞–ø—Å –Æ–≥: –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Chosen Palette: Warm Neutral (Backgrounds), Deep Green (Crops), Tech Blue (AI/Data), Alert Orange (Risks) -->
    <!-- Application Structure Plan: A central interactive dashboard divided into 'Challenges', 'Production Cycle' (Timeline), and 'AI Models'. 
         The timeline is the primary navigation, updating the main content area with phase-specific chemical, biological, and digital tasks. 
         This structure transforms a linear report into a decision-support tool simulation. -->
    <!-- Visualization & Content Choices: 
         1. Cycle Risks Chart (Bar) -> Visualizes yield loss risks per phase.
         2. Nutrient Balance (Pie) -> Highlights the critical N:S ratio.
         3. Interactive Timeline -> Drives the content, linking phase to action.
         4. Chemical Database -> Filterable list for quick lookup.
         5. AI Simulator -> Conceptual boxes showing Input->Algo->Output flow.
         NO SVG/Mermaid used. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <style>
        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #f5f5f0;
            /* Warm neutral */
            color: #1f2937;
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
            height: 300px;
            max-height: 400px;
        }

        .phase-btn.active {
            background-color: #10b981;
            /* Green-500 */
            color: white;
            border-left: 4px solid #064e3b;
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .nav-item.active {
            border-bottom: 2px solid #10b981;
            color: #065f46;
        }

        /* Custom scrollbar for data tables/lists */
        .custom-scroll::-webkit-scrollbar {
            width: 6px;
        }

        .custom-scroll::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        .custom-scroll::-webkit-scrollbar-thumb {
            background: #d1d5db;
            border-radius: 4px;
        }
    </style>
</head>

<body class="min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <span class="text-3xl mr-2">üå±</span>
                    <div>
                        <h1 class="font-bold text-xl text-gray-900 tracking-tight">AgroTech Rapeseed <span
                                class="text-green-600">South</span></h1>
                        <p class="text-xs text-gray-500">–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è: –ò–ò + –ê–≥—Ä–æ—Ö–∏–º–∏—è + –ë–∏–æ–ª–æ–≥–∏—è</p>
                    </div>
                </div>
                <nav class="hidden md:flex space-x-8">
                    <button onclick="switchView('strategy')" id="nav-strategy"
                        class="nav-item active px-3 py-2 text-sm font-medium text-gray-700 hover:text-green-600 transition">–°—Ç—Ä–∞—Ç–µ–≥–∏—è
                        –∏ –†–∏—Å–∫–∏</button>
                    <button onclick="switchView('cycle')" id="nav-cycle"
                        class="nav-item px-3 py-2 text-sm font-medium text-gray-700 hover:text-green-600 transition">–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π
                        –¶–∏–∫–ª</button>
                    <button onclick="switchView('ai-hub')" id="nav-ai-hub"
                        class="nav-item px-3 py-2 text-sm font-medium text-gray-700 hover:text-green-600 transition">–¶–µ–Ω—Ç—Ä
                        –ò–ò-–†–µ—à–µ–Ω–∏–π</button>
                    <button onclick="switchView('database')" id="nav-database"
                        class="nav-item px-3 py-2 text-sm font-medium text-gray-700 hover:text-green-600 transition">–ë–∞–∑–∞
                        –ü—Ä–µ–ø–∞—Ä–∞—Ç–æ–≤</button>
                </nav>
                <div class="md:hidden">
                    <!-- Mobile menu button placeholder -->
                    <button class="text-gray-500 hover:text-gray-900">‚ò∞</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="flex-grow max-w-7xl w-full mx-auto px-4 sm:px-6 lg:px-8 py-8">

        <!-- VIEW 1: STRATEGY & RISKS -->
        <section id="view-strategy" class="view-section space-y-8 animate-fade-in">
            <div class="bg-white rounded-xl shadow-md p-6 border-l-4 border-blue-500">
                <h2 class="text-2xl font-bold mb-2">–¶–µ–ª—å –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è</h2>
                <p class="text-gray-700 text-lg leading-relaxed">
                    –¶–∏—Ñ—Ä–æ–≤–∞—è –∏ –∞–≥—Ä–æ—Ö–∏–º–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –≤–æ–∑–¥–µ–ª—ã–≤–∞–Ω–∏—è –æ–∑–∏–º–æ–≥–æ —Ä–∞–ø—Å–∞ –≤ –∑–∞—Å—É—à–ª–∏–≤—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö
                    —é–≥–∞ –†–æ—Å—Å–∏–∏ (–†–æ—Å—Ç–æ–≤, –í–æ–ª–≥–æ–≥—Ä–∞–¥, –í–æ—Ä–æ–Ω–µ–∂, –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä, –°—Ç–∞–≤—Ä–æ–ø–æ–ª—å).
                    –ü–∞—Ä–∞–¥–∏–≥–º–∞: <strong>Data-Driven Agriculture</strong>. –ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç —à–∞–±–ª–æ–Ω–Ω—ã—Ö —Å—Ö–µ–º –∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –Ω–∞
                    –æ—Å–Ω–æ–≤–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.
                </p>
                <div class="mt-4 flex flex-wrap gap-4">
                    <div class="bg-blue-50 px-4 py-2 rounded-lg text-blue-800 font-semibold text-sm">Target Yield: 40-50
                        —Ü/–≥–∞</div>
                    <div class="bg-green-50 px-4 py-2 rounded-lg text-green-800 font-semibold text-sm">–ó–æ–Ω–∞: –†–∏—Å–∫–æ–≤–∞–Ω–Ω–æ–µ
                        –∑–µ–º–ª–µ–¥–µ–ª–∏–µ</div>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Text Content -->
                <div>
                    <h3 class="text-xl font-bold mb-4 flex items-center"><span class="mr-2">‚ö†Ô∏è</span> 5 –ö–ª—é—á–µ–≤—ã—Ö –í—ã–∑–æ–≤–æ–≤
                        –Æ–≥–∞</h3>
                    <p class="mb-4 text-gray-600 text-sm">–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É —Ä–∏—Å–∫–∞, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ.
                    </p>

                    <div class="space-y-3" id="risk-container">
                        <!-- Risks populated by JS -->
                    </div>
                </div>

                <!-- Visualization -->
                <div class="bg-white p-6 rounded-xl shadow-md flex flex-col items-center justify-center">
                    <h3 class="text-lg font-semibold mb-4 text-center">–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª –£—Ä–æ–∂–∞–π–Ω–æ—Å—Ç–∏ vs –§–∞–∫—Ç–æ—Ä—ã –†–∏—Å–∫–∞</h3>
                    <div class="chart-container">
                        <canvas id="riskChart"></canvas>
                    </div>
                    <p class="text-xs text-center text-gray-400 mt-2">–û—Ü–µ–Ω–∫–∞ –≤–ª–∏—è–Ω–∏—è –ª–∏–º–∏—Ç–∏—Ä—É—é—â–∏—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤ –±–µ–∑
                        —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∑–∞—â–∏—Ç—ã</p>
                </div>
            </div>
        </section>

        <!-- VIEW 2: PRODUCTION CYCLE (The Core) -->
        <section id="view-cycle" class="view-section hidden space-y-6">
            <div class="bg-white p-6 rounded-xl shadow-sm mb-6">
                <h2 class="text-2xl font-bold">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –ö–∞—Ä—Ç–∞</h2>
                <p class="text-gray-600">–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–∑—É —Ä–∞–∑–≤–∏—Ç–∏—è, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–≥–ª–∞–º–µ–Ω—Ç —Ä–∞–±–æ—Ç, —Å—Ö–µ–º—É –∑–∞—â–∏—Ç—ã –∏
                    –ò–ò-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã.</p>
            </div>

            <div class="flex flex-col lg:flex-row gap-6">
                <!-- Timeline Sidebar -->
                <div class="lg:w-1/4 flex-shrink-0">
                    <nav class="flex flex-col space-y-2 bg-white rounded-xl shadow-sm p-4 sticky top-24">
                        <button onclick="setPhase(0)"
                            class="phase-btn w-full text-left px-4 py-3 rounded-lg font-medium transition duration-200 hover:bg-gray-100 flex justify-between items-center active"
                            data-index="0">
                            <span>1. –ü–æ—Å–µ–≤</span> <span class="text-xs opacity-70">–ê–≤–≥-–°–µ–Ω—Ç</span>
                        </button>
                        <button onclick="setPhase(1)"
                            class="phase-btn w-full text-left px-4 py-3 rounded-lg font-medium transition duration-200 hover:bg-gray-100 flex justify-between items-center"
                            data-index="1">
                            <span>2. –û—Å–µ–Ω—å (–†–æ–∑–µ—Ç–∫–∞)</span> <span class="text-xs opacity-70">–û–∫—Ç-–ù–æ—è–±</span>
                        </button>
                        <button onclick="setPhase(2)"
                            class="phase-btn w-full text-left px-4 py-3 rounded-lg font-medium transition duration-200 hover:bg-gray-100 flex justify-between items-center"
                            data-index="2">
                            <span>3. –ó–∏–º–æ–≤–∫–∞</span> <span class="text-xs opacity-70">–î–µ–∫-–§–µ–≤</span>
                        </button>
                        <button onclick="setPhase(3)"
                            class="phase-btn w-full text-left px-4 py-3 rounded-lg font-medium transition duration-200 hover:bg-gray-100 flex justify-between items-center"
                            data-index="3">
                            <span>4. –í–µ—Å–Ω–∞ (–°—Ç–∞—Ä—Ç)</span> <span class="text-xs opacity-70">–ú–∞—Ä—Ç-–ê–ø—Ä</span>
                        </button>
                        <button onclick="setPhase(4)"
                            class="phase-btn w-full text-left px-4 py-3 rounded-lg font-medium transition duration-200 hover:bg-gray-100 flex justify-between items-center"
                            data-index="4">
                            <span>5. –¶–≤–µ—Ç–µ–Ω–∏–µ</span> <span class="text-xs opacity-70">–ú–∞–π</span>
                        </button>
                        <button onclick="setPhase(5)"
                            class="phase-btn w-full text-left px-4 py-3 rounded-lg font-medium transition duration-200 hover:bg-gray-100 flex justify-between items-center"
                            data-index="5">
                            <span>6. –ù–∞–ª–∏–≤/–£–±–æ—Ä–∫–∞</span> <span class="text-xs opacity-70">–ò—é–Ω—å-–ò—é–ª—å</span>
                        </button>
                    </nav>
                </div>

                <!-- Phase Details -->
                <div class="lg:w-3/4 space-y-6">
                    <!-- Phase Header -->
                    <div
                        class="bg-gradient-to-r from-gray-800 to-gray-700 text-white p-6 rounded-xl shadow-lg flex justify-between items-center">
                        <div>
                            <h2 id="phase-title" class="text-3xl font-bold">–§–∞–∑–∞</h2>
                            <p id="phase-subtitle" class="text-green-300 mt-1">–ö–ª—é—á–µ–≤–∞—è —Ü–µ–ª—å</p>
                        </div>
                        <div class="text-4xl" id="phase-icon">üöú</div>
                    </div>

                    <!-- Layout: Tech vs AI -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

                        <!-- Col 1: Chemistry & Biology -->
                        <div class="bg-white rounded-xl shadow-md overflow-hidden">
                            <div class="bg-green-100 px-6 py-3 border-b border-green-200">
                                <h3 class="font-bold text-green-800 flex items-center">
                                    <span class="mr-2">üß™</span> –°–ó–† –∏ –ü–∏—Ç–∞–Ω–∏–µ
                                </h3>
                            </div>
                            <div class="p-6 space-y-4" id="chem-content">
                                <!-- Content injected by JS -->
                            </div>
                        </div>

                        <!-- Col 2: AI & Data -->
                        <div class="bg-white rounded-xl shadow-md overflow-hidden">
                            <div class="bg-blue-100 px-6 py-3 border-b border-blue-200">
                                <h3 class="font-bold text-blue-800 flex items-center">
                                    <span class="mr-2">üì°</span> –¶–∏—Ñ—Ä–æ–≤—ã–µ –†–µ—à–µ–Ω–∏—è (–ò–ò)
                                </h3>
                            </div>
                            <div class="p-6 space-y-4" id="ai-content">
                                <!-- Content injected by JS -->
                            </div>
                        </div>

                    </div>

                    <!-- Contextual Visualization -->
                    <div class="bg-white rounded-xl shadow-md p-6">
                        <h3 class="text-lg font-semibold mb-4 text-gray-700">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –§–∞–∑—ã</h3>
                        <div class="chart-container">
                            <canvas id="cycleChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- VIEW 3: AI HUB -->
        <section id="view-ai-hub" class="view-section hidden space-y-8">
            <div class="text-center max-w-3xl mx-auto mb-10">
                <h2 class="text-3xl font-bold text-gray-900">–¶–µ–Ω—Ç—Ä –ü—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω–æ–≥–æ –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h2>
                <p class="mt-2 text-gray-600">–°–∏–º—É–ª—è—Ü–∏—è –ª–æ–≥–∏–∫–∏ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π. –í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –ø–æ—Ç–æ–∫
                    –¥–∞–Ω–Ω—ã—Ö.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
                <button onclick="renderAIModel('sowing')"
                    class="ai-btn bg-white p-4 rounded-xl shadow hover:shadow-lg transition border border-transparent hover:border-blue-500 text-left">
                    <div class="text-2xl mb-2">üìÖ</div>
                    <div class="font-bold text-gray-800">–î–∞—Ç–∞ –ü–æ—Å–µ–≤–∞</div>
                    <div class="text-xs text-gray-500">–í–ª–∞–≥–∞ + –ü—Ä–æ–≥–Ω–æ–∑</div>
                </button>
                <button onclick="renderAIModel('winter')"
                    class="ai-btn bg-white p-4 rounded-xl shadow hover:shadow-lg transition border border-transparent hover:border-blue-500 text-left">
                    <div class="text-2xl mb-2">‚ùÑÔ∏è</div>
                    <div class="font-bold text-gray-800">–ü–µ—Ä–µ–∑–∏–º–æ–≤–∫–∞</div>
                    <div class="text-xs text-gray-500">NDVI + IoT + –î—Ä–æ–Ω</div>
                </button>
                <button onclick="renderAIModel('pests')"
                    class="ai-btn bg-white p-4 rounded-xl shadow hover:shadow-lg transition border border-transparent hover:border-blue-500 text-left">
                    <div class="text-2xl mb-2">üêû</div>
                    <div class="font-bold text-gray-800">–ó–∞—â–∏—Ç–∞ (–í—Ä–µ–¥–∏—Ç–µ–ª–∏)</div>
                    <div class="text-xs text-gray-500">–°–≠–¢ + –§–µ—Ä–æ–º–æ–Ω—ã</div>
                </button>
                <button onclick="renderAIModel('harvest')"
                    class="ai-btn bg-white p-4 rounded-xl shadow hover:shadow-lg transition border border-transparent hover:border-blue-500 text-left">
                    <div class="text-2xl mb-2">üöú</div>
                    <div class="font-bold text-gray-800">–£–±–æ—Ä–∫–∞</div>
                    <div class="text-xs text-gray-500">–†–∏—Å–∫ —Ä–∞—Å—Ç—Ä–µ—Å–∫–∏–≤–∞–Ω–∏—è</div>
                </button>
            </div>

            <!-- Conceptual Diagram Container -->
            <div
                class="bg-gray-800 rounded-2xl p-8 shadow-inner overflow-hidden relative min-h-[400px] flex items-center justify-center">
                <div id="ai-diagram" class="w-full max-w-4xl">
                    <!-- Default State -->
                    <div class="text-center text-gray-400">
                        <p class="text-xl">–í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å –≤—ã—à–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–∏–º—É–ª—è—Ü–∏–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- VIEW 4: DATABASE -->
        <section id="view-database" class="view-section hidden space-y-6">
            <div class="bg-white p-6 rounded-xl shadow-sm">
                <h2 class="text-2xl font-bold mb-4">–ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö –ü—Ä–µ–ø–∞—Ä–∞—Ç–æ–≤ –∏ –°—Ä–µ–¥—Å—Ç–≤</h2>
                <div class="flex gap-4 mb-4 flex-wrap">
                    <button
                        class="filter-btn active bg-gray-200 px-4 py-2 rounded-full text-sm font-medium hover:bg-green-500 hover:text-white transition"
                        onclick="filterDB('all')">–í—Å–µ</button>
                    <button
                        class="filter-btn bg-gray-100 px-4 py-2 rounded-full text-sm font-medium hover:bg-green-500 hover:text-white transition"
                        onclick="filterDB('–°–ó–†')">–°–ó–† (–•–∏–º–∏—è)</button>
                    <button
                        class="filter-btn bg-gray-100 px-4 py-2 rounded-full text-sm font-medium hover:bg-green-500 hover:text-white transition"
                        onclick="filterDB('–ë–∏–æ')">–ë–∏–æ–ø—Ä–µ–ø–∞—Ä–∞—Ç—ã</button>
                    <button
                        class="filter-btn bg-gray-100 px-4 py-2 rounded-full text-sm font-medium hover:bg-green-500 hover:text-white transition"
                        onclick="filterDB('–£–¥–æ–±—Ä–µ–Ω–∏—è')">–£–¥–æ–±—Ä–µ–Ω–∏—è/–°—Ç–∏–º—É–ª—è—Ç–æ—Ä—ã</button>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4" id="db-grid">
                    <!-- Populated by JS -->
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-gray-800 text-gray-400 py-8">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="mb-2">–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–≥–æ –≤–æ–∑–¥–µ–ª—ã–≤–∞–Ω–∏—è –æ–∑–∏–º–æ–≥–æ —Ä–∞–ø—Å–∞.</p>
            <p class="text-sm">–†–µ–≥–∏–æ–Ω—ã: –†–æ—Å—Ç–æ–≤—Å–∫–∞—è, –í–æ–ª–≥–æ–≥—Ä–∞–¥—Å–∫–∞—è, –í–æ—Ä–æ–Ω–µ–∂—Å–∫–∞—è –æ–±–ª., –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∏ –°—Ç–∞–≤—Ä–æ–ø–æ–ª—å—Å–∫–∏–π
                –∫—Ä–∞–π.</p>
        </div>
    </footer>

    <script>
        // --- DATA STORE ---
        const risks = [
            { id: 1, title: "–î–µ—Ñ–∏—Ü–∏—Ç –≤–ª–∞–≥–∏", desc: "–û—Å–µ–Ω–Ω—è—è –∏ –ª–µ—Ç–Ω—è—è –∑–∞—Å—É—Ö–∞", solution: "–ë–µ–∑–æ—Ç–≤–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (No-Till/Mini-Till), —Ä–∞–Ω–Ω–∏–π –ø–æ—Å–µ–≤ –ø—Ä–∏ –≤–ª–∞–≥–µ >20–º–º, –≥–∏–¥—Ä–æ–≥–µ–ª—å/–∞–¥—ä—é–≤–∞–Ω—Ç—ã." },
            { id: 2, title: "–ó–∏–º–Ω—è—è –≥–∏–±–µ–ª—å", desc: "–í—ã–º–µ—Ä–∑–∞–Ω–∏–µ, –≤—ã–ø–∏—Ä–∞–Ω–∏–µ", solution: "–û—Å–µ–Ω–Ω—è—è —Ä–µ–≥—É–ª—è—Ü–∏—è —Ä–æ—Å—Ç–∞ (–ú–æ–¥–µ–ª—å 460), –º–æ—â–Ω—ã–π –∫–æ—Ä–µ–Ω—å (>20—Å–º), –ø–æ—Å–µ–≤ –≤ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ." },
            { id: 3, title: "–í–µ—Å–µ–Ω–Ω–∏–µ –∑–∞–º–æ—Ä–æ–∑–∫–∏", desc: "–ü–µ—Ä–∏–æ–¥ –±—É—Ç–æ–Ω–∏–∑–∞—Ü–∏–∏", solution: "–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫—Ä–µ–º–Ω–∏–π-—Å–æ–¥–µ—Ä–∂–∞—â–∏–º–∏ (–°–∏–ª–∏–ø–ª–∞–Ω—Ç), –∞–º–∏–Ω–æ–∫–∏—Å–ª–æ—Ç—ã (–ú–µ–≥–∞—Ñ–æ–ª) –∑–∞ 24—á –¥–æ –∑–∞–º–æ—Ä–æ–∑–∫–∞." },
            { id: 4, title: "–í—Ä–µ–¥–∏—Ç–µ–ª–∏", desc: "–ë–ª–æ—à–∫–∏, –¶–≤–µ—Ç–æ–µ–¥, –ú–æ–ª—å", solution: "–ü—Ä–æ—Ç—Ä–∞–≤–ª–∏–≤–∞–Ω–∏–µ (–ò–º–∏–¥–∞–ª–∏—Ç), –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ñ–µ—Ä–æ–º–æ–Ω–Ω—ã–º–∏ –ª–æ–≤—É—à–∫–∞–º–∏, –∏–Ω—Å–µ–∫—Ç–∏—Ü–∏–¥—ã (–ü—Ä–æ–∫–ª–µ–π–º) –ø–æ –ø–æ—Ä–æ–≥—É –≠–ü–í." },
            { id: 5, title: "–†–∞—Å—Ç—Ä–µ—Å–∫–∏–≤–∞–Ω–∏–µ", desc: "–ü–æ—Ç–µ—Ä—è —É—Ä–æ–∂–∞—è –ø–µ—Ä–µ–¥ —É–±–æ—Ä–∫–æ–π", solution: "–ö–ª–µ–π-—Å–∫—Ä–µ–ø–∏—Ç–µ–ª—å (Stickstoff), —Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –¥–µ—Å–∏–∫–∞—Ü–∏—è, –¥–≤—É—Ö—Ñ–∞–∑–Ω–∞—è —É–±–æ—Ä–∫–∞." }
        ];

        const phases = [
            {
                title: "–ü—Ä–µ–¥–ø–æ—Å–µ–≤–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏ –ü–æ—Å–µ–≤",
                subtitle: "–§—É–Ω–¥–∞–º–µ–Ω—Ç –ø–µ—Ä–µ–∑–∏–º–æ–≤–∫–∏",
                icon: "üöú",
                chem: [
                    "<strong>–ü–æ—á–≤–∞:</strong> No-Till/Mini-Till –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–ª–∞–≥–∏.",
                    "<strong>–£–¥–æ–±—Ä–µ–Ω–∏—è:</strong> P –∏ K –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥ –æ—Å–Ω–æ–≤–Ω—É—é. N –Ω–µ –±–æ–ª–µ–µ 30-40 –∫–≥/–≥–∞.",
                    "<strong>–°–µ–º–µ–Ω–∞:</strong> –ü—Ä–æ—Ç—Ä–∞–≤–∫–∞ –õ–∞–º–∏–¥–æ—Ä/–°–µ—Ä—Ç–∫–æ—Ä + –ò–º–∏–¥–∞–ª–∏—Ç/–ö—Ä—É–∏–∑–µ—Ä.",
                    "<strong>–ë–∏–æ-–¥–æ–±–∞–≤–∫–∞:</strong> –†–∏–∑–æ–ø–ª–∞–Ω + –ë–æ—Ä + –ú–æ–ª–∏–±–¥–µ–Ω –ø—Ä–∏ –∏–Ω–∫—Ä—É—Å—Ç–∞—Ü–∏–∏."
                ],
                ai: [
                    "<strong>–ú–æ–¥–µ–ª—å –ø–æ—Å–µ–≤–∞:</strong> –†–∞—Å—á–µ—Ç –¥–∞—Ç—ã –ø–æ –≤–ª–∞–≥–æ–∑–∞–ø–∞—Å–∞–º (–≤–ª–∞–≥–æ–º–µ—Ä—ã/—Å–ø—É—Ç–Ω–∏–∫).",
                    "<strong>–¶–µ–ª—å:</strong> –£—Ö–æ–¥ –≤ –∑–∏–º—É —Å 8-10 –ª–∏—Å—Ç—å—è–º–∏, –∫–æ—Ä–µ–Ω—å >20—Å–º.",
                    "<strong>–ù–æ—Ä–º–∞:</strong> 40-55 —à—Ç/–º¬≤ (VRA –ø–æ –∫–∞—Ä—Ç–µ –ø–æ—á–≤)."
                ],
                chartLabel: "–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É—Å–ø–µ—Ö–∞ –ø–æ—Å–µ–≤–∞",
                chartData: [40, 30, 20, 10],
                chartLabels: ["–°—Ä–æ–∫ –ø–æ—Å–µ–≤–∞", "–í–ª–∞–≥–∞", "–ì–µ–Ω–µ—Ç–∏–∫–∞", "–£–¥–æ–±—Ä–µ–Ω–∏—è"]
            },
            {
                title: "–û—Å–µ–Ω–Ω—è—è –í–µ–≥–µ—Ç–∞—Ü–∏—è",
                subtitle: "–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–æ–∑–µ—Ç–∫–∏",
                icon: "üå±",
                chem: [
                    "<strong>–ì–µ—Ä–±–∏—Ü–∏–¥—ã (2-4 –ª–∏—Å—Ç–∞):</strong> –ù–æ–æ (–ø—Ä–æ–ø–∏–∑–æ—Ö–ª–æ—Ä) –∏–ª–∏ –ì–∞–ª–∏–æ–Ω.",
                    "<strong>–†–µ–≥—É–ª—è—Ç–æ—Ä —Ä–æ—Å—Ç–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):</strong> –ú–æ–¥–µ–ª—å 460 (—Ç–µ–±—É–∫–æ–Ω–∞–∑–æ–ª) - —É—Ç–æ–ª—â–µ–Ω–∏–µ —à–µ–π–∫–∏.",
                    "<strong>–õ–∏—Å—Ç–æ–≤–∞—è –ø–æ–¥–∫–æ—Ä–º–∫–∞:</strong> –ë–æ—Ä 150–≥ + –ú–æ–ª–∏–±–¥–µ–Ω 50–≥ + –õ–∏–ø–æ—Å–∞–º (–∞–¥—ä—é–≤–∞–Ω—Ç)."
                ],
                ai: [
                    "<strong>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:</strong> NDVI —Å–Ω–∏–º–∫–∏ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –±–∏–æ–º–∞—Å—Å—ã.",
                    "<strong>–î—Ä–æ–Ω:</strong> –¢–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞ –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–µ—Å—Å–æ–≤—ã—Ö –∑–æ–Ω.",
                    "<strong>–ü—Ä–æ–≥–Ω–æ–∑:</strong> –†–∞—Å—á–µ—Ç —Ä–∏—Å–∫–∞ –ø–µ—Ä–µ—Ä–∞—Å—Ç–∞–Ω–∏—è."
                ],
                chartLabel: "–í–ª–∏—è–Ω–∏–µ –ë–æ—Ä–∞ –Ω–∞ –∑–∏–º–æ—Å—Ç–æ–π–∫–æ—Å—Ç—å",
                chartData: [25, 75],
                chartLabels: ["–†–∏—Å–∫ –≥–∏–±–µ–ª–∏ (–ë–µ–∑ B)", "–í—ã–∂–∏–≤–∞–µ–º–æ—Å—Ç—å (–° B+Mo)"]
            },
            {
                title: "–ó–∏–º–æ–≤–∫–∞",
                subtitle: "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞",
                icon: "‚ùÑÔ∏è",
                chem: [
                    "–ê–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª–µ–≤—ã—Ö —Ä–∞–±–æ—Ç –Ω–µ—Ç.",
                    "–ö–æ–Ω—Ç—Ä–æ–ª—å —Å–Ω–µ–∂–Ω–æ–≥–æ –ø–æ–∫—Ä–æ–≤–∞.",
                    "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–µ–ø–∞—Ä–∞—Ç–æ–≤ –∫ –≤–µ—Å–Ω–µ."
                ],
                ai: [
                    "<strong>IoT –î–∞—Ç—á–∏–∫–∏:</strong> T –ø–æ—á–≤—ã –Ω–∞ –≥–ª—É–±–∏–Ω–µ —É–∑–ª–∞ –∫—É—â–µ–Ω–∏—è.",
                    "<strong>–ê–Ω–∞–ª–∏–∑:</strong> –¢–µ–ø–ª–æ–≤—ã–µ —Å–Ω–∏–º–∫–∏ (—Ñ–µ–≤—Ä–∞–ª—å) - –ø–æ–∏—Å–∫ '—Ç–µ–ø–ª—ã—Ö' (–∂–∏–≤—ã—Ö) –∑–æ–Ω.",
                    "<strong>–ü–ª–∞–Ω:</strong> –†–∞—Å—á–µ—Ç –∫–∞—Ä—Ç—ã –ø–µ—Ä–µ—Å–µ–≤–∞/–ø–æ–¥—Å–µ–≤–∞."
                ],
                chartLabel: "–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–∏–±–µ–ª–∏ –∑–∏–º–æ–π (–†–∏—Å–∫–∏)",
                chartData: [40, 30, 20, 10],
                chartLabels: ["–í—ã–º–µ—Ä–∑–∞–Ω–∏–µ", "–í—ã–ø–∏—Ä–∞–Ω–∏–µ", "–í—ã–ø—Ä–µ–≤–∞–Ω–∏–µ", "–ë–æ–ª–µ–∑–Ω–∏"]
            },
            {
                title: "–í–µ—Å–µ–Ω–Ω—è—è –í–µ–≥–µ—Ç–∞—Ü–∏—è",
                subtitle: "–°—Ç–∞—Ä—Ç –∏ –°—Ç–µ–±–ª–µ–≤–∞–Ω–∏–µ",
                icon: "üåø",
                chem: [
                    "<strong>–ê–∑–æ—Ç 1 (–°—Ç–∞—Ä—Ç):</strong> 60-70% –¥–æ–∑—ã. –ö–ê–° + S (—Ç–∏–æ—Å—É–ª—å—Ñ–∞—Ç).",
                    "<strong>–ê–∑–æ—Ç 2 (–°—Ç–µ–±–ª–µ–≤–∞–Ω–∏–µ):</strong> –û—Å—Ç–∞—Ç–æ–∫ N + S.",
                    "<strong>–ó–∞—â–∏—Ç–∞:</strong> –ò–Ω—Å–µ–∫—Ç–∏—Ü–∏–¥—ã (–ê–ª—å—Ñ–∞-–¶–∏–ø–∏) –ø—Ä–æ—Ç–∏–≤ —Å–∫—Ä—ã—Ç–Ω–æ—Ö–æ–±–æ—Ç–Ω–∏–∫–∞/–±–ª–æ—à–∫–∏."
                ],
                ai: [
                    "<strong>VRA –£–¥–æ–±—Ä–µ–Ω–∏—è:</strong> –î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–∑–æ—Ç –ø–æ –∫–∞—Ä—Ç–µ –ø–µ—Ä–µ–∑–∏–º–æ–≤–∫–∏.",
                    "<strong>–ú–æ–¥–µ–ª—å:</strong> –û—Ü–µ–Ω–∫–∞ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –≥—É—Å—Ç–æ—Ç—ã."
                ],
                chartLabel: "–ü–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –≤ —ç–ª–µ–º–µ–Ω—Ç–∞—Ö (–í–µ—Å–Ω–∞)",
                chartData: [60, 20, 15, 5],
                chartLabels: ["–ê–∑–æ—Ç (N)", "–°–µ—Ä–∞ (S)", "–ö–∞–ª–∏–π (K)", "–ú–∏–∫—Ä–æ"]
            },
            {
                title: "–ë—É—Ç–æ–Ω–∏–∑–∞—Ü–∏—è –∏ –¶–≤–µ—Ç–µ–Ω–∏–µ",
                subtitle: "–ó–∞—â–∏—Ç–∞ —É—Ä–æ–∂–∞—è",
                icon: "üåº",
                chem: [
                    "<strong>–í—Ä–µ–¥–∏—Ç–µ–ª–∏:</strong> –≠—Ñ–æ—Ä–∏—è –∏–ª–∏ –ü—Ä–æ–∫–ª–µ–π–º (–±–µ–∑–æ–ø–∞—Å–µ–Ω –¥–ª—è –ø—á–µ–ª –ø—Ä–∏ —Å–æ–±–ª—é–¥–µ–Ω–∏–∏ —Ä–µ–≥–ª–∞–º–µ–Ω—Ç–∞).",
                    "<strong>–ë–æ–ª–µ–∑–Ω–∏:</strong> –°–∫–∞–Ω—Ç–æ/–ü—Ä–æ–∑–∞—Ä–æ (—Å–∫–ª–µ—Ä–æ—Ç–∏–Ω–∏—è, –∞–ª—å—Ç–µ—Ä–Ω–∞—Ä–∏–æ–∑) + –ü—Å–µ–≤–¥–æ–±–∞–∫—Ç–µ—Ä–∏–Ω.",
                    "<strong>–ü–æ–¥–∫–æ—Ä–º–∫–∞:</strong> –ë–æ—Ä + –°–µ—Ä–∞ + –°–∏–ª–∏–ø–ª–∞–Ω—Ç (–æ—Ç –∂–∞—Ä—ã)."
                ],
                ai: [
                    "<strong>–ü—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω–∞—è –∑–∞—â–∏—Ç–∞:</strong> –ú–æ–¥–µ–ª—å –≤—ã–ª–µ—Ç–∞ —Ü–≤–µ—Ç–æ–µ–¥–∞ (–°—É–º–º–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä).",
                    "<strong>–≠–∫–æ–Ω–æ–º–∏–∫–∞:</strong> –†–∞—Å—á–µ—Ç –≠–ü–í (–ü–æ—Ä–æ–≥ –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω–æ—Å—Ç–∏).",
                    "<strong>–ü–æ–≥–æ–¥–∞:</strong> –ü—Ä–æ–≥–Ω–æ–∑ '–æ–∫–Ω–∞' –¥–ª—è –æ–ø—Ä—ã—Å–∫–∏–≤–∞–Ω–∏—è."
                ],
                chartLabel: "–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ñ—É–Ω–≥–∏—Ü–∏–¥–æ–≤",
                chartData: [15, 85],
                chartLabels: ["–ü–æ—Ç–µ—Ä–∏ –æ—Ç –°–∫–ª–µ—Ä–æ—Ç–∏–Ω–∏–∏", "–°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π —É—Ä–æ–∂–∞–π"]
            },
            {
                title: "–ù–∞–ª–∏–≤ –∏ –£–±–æ—Ä–∫–∞",
                subtitle: "–°–±–æ—Ä —É—Ä–æ–∂–∞—è",
                icon: "üöú",
                chem: [
                    "<strong>–ö–ª–µ–π:</strong> –°–∫—Ä–µ–ø–∏—Ç–µ–ª—å —Å—Ç—Ä—É—á–∫–æ–≤ (Stickstoff/–õ–∞—Ç–µ–∫—Å) –ø—Ä–∏ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ >60%.",
                    "<strong>–î–µ—Å–∏–∫–∞—Ü–∏—è:</strong> –ü—Ä–∏ –Ω–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–º —Å–æ–∑—Ä–µ–≤–∞–Ω–∏–∏.",
                    "<strong>–ë–∏–æ—Å—Ç–∏–º—É–ª—è—Ç–æ—Ä:</strong> –ú–µ–≥–∞—Ñ–æ–ª/–ê–ª—å–±–∏—Ç (–Ω–∞–ª–∏–≤)."
                ],
                ai: [
                    "<strong>–ú–æ–¥–µ–ª—å —Ä–∞—Å—Ç—Ä–µ—Å–∫–∏–≤–∞–Ω–∏—è:</strong> –û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞ –ø–æ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ –∏ –≤–µ—Ç—Ä—É.",
                    "<strong>–õ–æ–≥–∏—Å—Ç–∏–∫–∞:</strong> –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∫–æ–º–±–∞–π–Ω–æ–≤.",
                    "<strong>–ö–∞—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:</strong> –ö–∞—Ä—Ç–∞ —É—Ä–æ–∂–∞–π–Ω–æ—Å—Ç–∏ –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–µ–∑–æ–Ω–∞."
                ],
                chartLabel: "–ü–æ—Ç–µ—Ä–∏ –ø—Ä–∏ —É–±–æ—Ä–∫–µ",
                chartData: [30, 5],
                chartLabels: ["–ë–µ–∑ –∫–ª–µ—è (–†–∞—Å—Ç—Ä–µ—Å–∫–∏–≤–∞–Ω–∏–µ)", "–° –∫–ª–µ–µ–º Stickstoff"]
            }
        ];

        const products = [
            { name: "–õ–∞–º–∏–¥–æ—Ä", type: "–°–ó–†", active: "–ü—Ä–æ—Ç–∏–æ–∫–æ–Ω–∞–∑–æ–ª+–¢–∏–∞–±–µ–Ω–¥–∞–∑–æ–ª", use: "–ü—Ä–æ—Ç—Ä–∞–≤–∫–∞ —Å–µ–º—è–Ω (–ë–æ–ª–µ–∑–Ω–∏)" },
            { name: "–ò–º–∏–¥–∞–ª–∏—Ç", type: "–°–ó–†", active: "–ö–ª–æ—Ç–∏–∞–Ω–∏–¥–∏–Ω+–¢–µ–±—É–∫–æ–Ω–∞–∑–æ–ª", use: "–ü—Ä–æ—Ç—Ä–∞–≤–∫–∞ (–í—Ä–µ–¥–∏—Ç–µ–ª–∏)" },
            { name: "–†–∏–∑–æ–ø–ª–∞–Ω", type: "–ë–∏–æ", active: "Pseudomonas fluorescens", use: "–ë–∏–æ—Ñ—É–Ω–≥–∏—Ü–∏–¥, —Å—Ç–∏–º—É–ª—è—Ç–æ—Ä –∫–æ—Ä–Ω–µ–π" },
            { name: "–ù–æ–æ/–ì–∞–ª–∏–æ–Ω", type: "–°–ó–†", active: "–ú–µ—Ç–∞–∑–∞—Ö–ª–æ—Ä/–ö–≤–∏–∑–∞–ª–æ—Ñ–æ–ø", use: "–ì–µ—Ä–±–∏—Ü–∏–¥—ã (–û—Å–µ–Ω—å)" },
            { name: "–ú–æ–¥–µ–ª—å 460", type: "–°–ó–†", active: "–¢–µ–±—É–∫–æ–Ω–∞–∑–æ–ª+–ú–µ–ø–∫–≤–∞—Ç", use: "–†–µ–≥—É–ª—è—Ç–æ—Ä —Ä–æ—Å—Ç–∞ (–û—Å–µ–Ω—å)" },
            { name: "–õ–∏–ø–æ—Å–∞–º", type: "–£–¥–æ–±—Ä–µ–Ω–∏—è", active: "–ü–æ–ª–∏—Å–∞—Ö–∞—Ä–∏–¥—ã", use: "–ê–¥—ä—é–≤–∞–Ω—Ç-–ø—Ä–∏–ª–∏–ø–∞—Ç–µ–ª—å" },
            { name: "–ö–ê–° + S", type: "–£–¥–æ–±—Ä–µ–Ω–∏—è", active: "–ê–∑–æ—Ç + –°–µ—Ä–∞", use: "–û—Å–Ω–æ–≤–Ω–∞—è –ø–æ–¥–∫–æ—Ä–º–∫–∞ –≤–µ—Å–Ω–æ–π" },
            { name: "–≠—Ñ–æ—Ä–∏—è", type: "–°–ó–†", active: "–õ—è–º–±–¥–∞-—Ü–∏–≥–∞–ª–æ—Ç—Ä–∏–Ω+–¢–∏–∞–∫–ª–æ–ø—Ä–∏–¥", use: "–ò–Ω—Å–µ–∫—Ç–∏—Ü–∏–¥ (–¶–≤–µ—Ç–æ–µ–¥)" },
            { name: "–°–∫–∞–Ω—Ç–æ", type: "–°–ó–†", active: "–¢–µ–±—É–∫–æ–Ω–∞–∑–æ–ª+–ü—Ä–æ—Ç–∏–æ–∫–æ–Ω–∞–∑–æ–ª", use: "–§—É–Ω–≥–∏—Ü–∏–¥ (–°–∫–ª–µ—Ä–æ—Ç–∏–Ω–∏—è)" },
            { name: "–°–∏–ª–∏–ø–ª–∞–Ω—Ç", type: "–£–¥–æ–±—Ä–µ–Ω–∏—è", active: "–ö—Ä–µ–º–Ω–∏–π (Si)", use: "–ê–Ω—Ç–∏—Å—Ç—Ä–µ—Å—Å (–ñ–∞—Ä–∞/–ó–∞–º–æ—Ä–æ–∑–∫–∏)" },
            { name: "Stickstoff", type: "–£–¥–æ–±—Ä–µ–Ω–∏—è", active: "–õ–∞—Ç–µ–∫—Å/–ü–æ–ª–∏–º–µ—Ä", use: "–°–∫—Ä–µ–ø–∏—Ç–µ–ª—å —Å—Ç—Ä—É—á–∫–æ–≤" }
        ];

        // --- GLOBAL VARIABLES ---
        let currentChart = null;

        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            initRisks();
            initDatabase();
            setPhase(0); // Init Cycle View
            initRiskChart(); // Init Strategy Chart
        });

        // --- NAVIGATION LOGIC ---
        function switchView(viewId) {
            // Hide all sections
            document.querySelectorAll('.view-section').forEach(el => {
                el.classList.add('hidden');
            });
            // Show selected
            document.getElementById(`view-${viewId}`).classList.remove('hidden');

            // Update Nav State
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            document.getElementById(`nav-${viewId}`).classList.add('active');

            // Resize charts if necessary
            if (viewId === 'cycle' && currentChart) {
                currentChart.resize();
            }
        }

        // --- MODULE 1: RISKS ---
        function initRisks() {
            const container = document.getElementById('risk-container');
            container.innerHTML = risks.map(r => `
                <div class="risk-card bg-white border border-gray-200 rounded-lg p-4 cursor-pointer transition hover:bg-orange-50 hover:border-orange-300" onclick="toggleRisk(this)">
                    <div class="flex justify-between items-center">
                        <h4 class="font-bold text-gray-800">${r.title}</h4>
                        <span class="text-orange-500 text-xl">‚ö†Ô∏è</span>
                    </div>
                    <p class="text-sm text-gray-500 mt-1">${r.desc}</p>
                    <div class="solution hidden mt-3 pt-3 border-t border-gray-200 text-sm text-green-700 font-medium bg-green-50 p-2 rounded">
                        ‚úÖ –†–µ—à–µ–Ω–∏–µ: ${r.solution}
                    </div>
                </div>
            `).join('');
        }

        function toggleRisk(el) {
            const solution = el.querySelector('.solution');
            solution.classList.toggle('hidden');
        }

        function initRiskChart() {
            const ctx = document.getElementById('riskChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['–ó–∞—Å—É—Ö–∞', '–ó–∏–º–∞', '–í—Ä–µ–¥–∏—Ç–µ–ª–∏', '–ü–æ—Ç–µ—Ä–∏ —É–±–æ—Ä–∫–∏'],
                    datasets: [
                        {
                            label: '–ü–æ—Ç–µ—Ä—è —É—Ä–æ–∂–∞—è –±–µ–∑ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ (%)',
                            data: [45, 30, 25, 20],
                            backgroundColor: '#f87171'
                        },
                        {
                            label: '–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ —Å –ò–ò+–°–ó–† (%)',
                            data: [35, 25, 22, 18],
                            backgroundColor: '#34d399'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { beginAtZero: true, max: 60 }
                    }
                }
            });
        }

        // --- MODULE 2: CYCLE ---
        function setPhase(index) {
            // Update Sidebar UI
            document.querySelectorAll('.phase-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelector(`.phase-btn[data-index="${index}"]`).classList.add('active');

            const data = phases[index];

            // Update Header
            document.getElementById('phase-title').innerText = data.title;
            document.getElementById('phase-subtitle').innerText = data.subtitle;
            document.getElementById('phase-icon').innerText = data.icon;

            // Update Content Lists
            document.getElementById('chem-content').innerHTML = `
                <ul class="list-disc pl-5 space-y-2 text-gray-700">
                    ${data.chem.map(item => `<li>${item}</li>`).join('')}
                </ul>
            `;
            document.getElementById('ai-content').innerHTML = `
                <ul class="list-disc pl-5 space-y-2 text-gray-700">
                    ${data.ai.map(item => `<li>${item}</li>`).join('')}
                </ul>
            `;

            // Update Chart
            updateCycleChart(data);
        }

        function updateCycleChart(data) {
            const ctx = document.getElementById('cycleChart').getContext('2d');

            if (currentChart) {
                currentChart.destroy();
            }

            // Determine chart type based on context (mostly Pie/Doughnut for composition, Bar for comparison)
            const type = data.title.includes('–ó–∏–º–æ–≤–∫–∞') || data.title.includes('–ü–æ—Å–µ–≤') ? 'bar' : 'doughnut';

            currentChart = new Chart(ctx, {
                type: type,
                data: {
                    labels: data.chartLabels,
                    datasets: [{
                        label: data.chartLabel,
                        data: data.chartData,
                        backgroundColor: [
                            '#3b82f6', '#10b981', '#f59e0b', '#ef4444'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom' },
                        title: { display: true, text: data.chartLabel }
                    }
                }
            });
        }

        // --- MODULE 3: AI SIMULATOR ---
        function renderAIModel(modelType) {
            const container = document.getElementById('ai-diagram');
            let content = '';

            // CSS Flowchart Components
            const boxClass = "bg-gray-700 text-white p-4 rounded-lg text-center flex-1 shadow-md border border-gray-600";
            const arrowClass = "text-gray-400 text-2xl font-bold px-2 flex items-center justify-center";

            if (modelType === 'sowing') {
                content = `
                    <div class="flex flex-col md:flex-row items-stretch gap-4 justify-between h-full animate-fade-in">
                        <div class="flex flex-col space-y-4 w-full md:w-1/4">
                            <div class="${boxClass} border-l-4 border-blue-400">
                                <div class="text-xs text-blue-300">INPUT 1</div>
                                <div>–í–ª–∞–≥–∞ –ø–æ—á–≤—ã >20—Å–º</div>
                            </div>
                            <div class="${boxClass} border-l-4 border-blue-400">
                                <div class="text-xs text-blue-300">INPUT 2</div>
                                <div>–ü—Ä–æ–≥–Ω–æ–∑ t¬∞C –Ω–∞ 14 –¥–Ω</div>
                            </div>
                        </div>
                        <div class="${arrowClass}">‚ûî</div>
                        <div class="${boxClass} bg-blue-900 border-blue-500 flex flex-col justify-center">
                            <div class="text-xl font-mono mb-2">ü§ñ AI Model</div>
                            <div class="text-sm">–ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞—Å—á–µ—Ç–∞ —Å—É–º–º—ã —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä –¥–ª—è —Ñ–∞–∑—ã 8 –ª–∏—Å—Ç—å–µ–≤</div>
                        </div>
                        <div class="${arrowClass}">‚ûî</div>
                        <div class="${boxClass} bg-green-800 border-green-500 flex flex-col justify-center">
                            <div class="text-xs text-green-300">OUTPUT</div>
                            <div class="font-bold text-lg">–û–∫–Ω–æ –ø–æ—Å–µ–≤–∞: 28 –ê–≤–≥ - 5 –°–µ–Ω—Ç</div>
                            <div class="text-sm mt-2">–ù–æ—Ä–º–∞: 45 —à—Ç/–º¬≤</div>
                        </div>
                    </div>
                `;
            } else if (modelType === 'pests') {
                content = `
                    <div class="flex flex-col md:flex-row items-stretch gap-4 justify-between h-full animate-fade-in">
                        <div class="flex flex-col space-y-4 w-full md:w-1/4">
                            <div class="${boxClass} border-l-4 border-red-400">
                                <div class="text-xs text-red-300">INPUT</div>
                                <div>–°—É–º–º–∞ —ç—Ñ—Ñ. —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä</div>
                            </div>
                            <div class="${boxClass} border-l-4 border-red-400">
                                <div class="text-xs text-red-300">SENSOR</div>
                                <div>–§–µ—Ä–æ–º–æ–Ω–Ω–∞—è –ª–æ–≤—É—à–∫–∞ (Count)</div>
                            </div>
                        </div>
                        <div class="${arrowClass}">‚ûî</div>
                        <div class="${boxClass} bg-blue-900 border-blue-500 flex flex-col justify-center">
                            <div class="text-xl font-mono mb-2">üêû Pest AI</div>
                            <div class="text-sm">–ü—Ä–µ–¥–∏–∫—Ü–∏—è –≤—ã–ª–µ—Ç–∞ + –†–∞—Å—á–µ—Ç –≠–ü–í</div>
                        </div>
                        <div class="${arrowClass}">‚ûî</div>
                        <div class="w-full md:w-1/4 space-y-4">
                            <div class="${boxClass} bg-red-900 border-red-500">
                                <div class="font-bold">ALERT: –¶–≤–µ—Ç–æ–µ–¥</div>
                                <div class="text-xs">–í—ã–ª–µ—Ç —á–µ—Ä–µ–∑ 3 –¥–Ω—è</div>
                            </div>
                            <div class="${boxClass} bg-green-900 border-green-500">
                                <div class="font-bold">ACTION</div>
                                <div class="text-xs">–ò–Ω—Å–µ–∫—Ç–∏—Ü–∏–¥ –≠—Ñ–æ—Ä–∏—è</div>
                            </div>
                        </div>
                    </div>
                `;
            } else {
                content = `<div class="text-center text-white pt-10">–ú–æ–¥–µ–ª—å ${modelType} –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ... <br> (–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è '–î–∞—Ç–∞ –ü–æ—Å–µ–≤–∞' –∏ '–ó–∞—â–∏—Ç–∞')</div>`;
            }

            container.innerHTML = content;
        }

        // --- MODULE 4: DATABASE ---
        function initDatabase() {
            const grid = document.getElementById('db-grid');
            renderDB(products);
        }

        function filterDB(type) {
            document.querySelectorAll('.filter-btn').forEach(b => {
                b.classList.remove('active', 'bg-gray-200');
                b.classList.add('bg-gray-100');
                if (b.innerText.includes(type) || (type === 'all' && b.innerText === '–í—Å–µ')) {
                    b.classList.add('active', 'bg-gray-200');
                    b.classList.remove('bg-gray-100');
                }
            });

            const filtered = type === 'all' ? products : products.filter(p => p.type.includes(type));
            renderDB(filtered);
        }

        function renderDB(list) {
            const grid = document.getElementById('db-grid');
            grid.innerHTML = list.map(p => `
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 hover:shadow-md transition">
                    <div class="flex justify-between items-start mb-2">
                        <h4 class="font-bold text-lg text-gray-800">${p.name}</h4>
                        <span class="text-xs font-semibold px-2 py-1 rounded ${getTypeColor(p.type)}">${p.type}</span>
                    </div>
                    <p class="text-sm text-gray-600 mb-1"><strong>–î–í:</strong> ${p.active}</p>
                    <p class="text-sm text-gray-500">üéØ ${p.use}</p>
                </div>
            `).join('');
        }

        function getTypeColor(type) {
            if (type === '–°–ó–†') return 'bg-red-100 text-red-800';
            if (type === '–ë–∏–æ') return 'bg-green-100 text-green-800';
            return 'bg-blue-100 text-blue-800';
        }

    </script>
</body>

</html>